<!DOCTYPE html>
<html lang="zh-CN">

  <head>
  <meta charset="utf-8">
  <meta name="author" content="zchengsite, 1451426471@qq.com" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  
  <title>How does UmiJS stack up against Next.js?   | Macshion</title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/js/fancybox.js"></script>


  

<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Macshion" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="flex-container header">
    <div class="avatar">
    <a href="/">
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <!-- <div class="nickname"><a href="/">Macshion</a></div> -->
  </div>
    <div class="header-container">
  
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Categories</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Links</a>
        </li>
      
    </ul>
  </div>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->



  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">How does UmiJS stack up against Next.js?</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="Update time"></i>
          2021-03-25
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags" title="Tags"></i>
                
                <span class="span--tag">
                  <a href="/tags/React/" title="React">
                    <b>#</b> React
                  </a>
                </span>
                
                <span class="span--tag">
                  <a href="/tags/Umi/" title="Umi">
                    <b>#</b> Umi
                  </a>
                </span>
                
                <span class="span--tag">
                  <a href="/tags/Nextjs/" title="Nextjs">
                    <b>#</b> Nextjs
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <p><img src="https://raw.githubusercontent.com/macshion/PicBed/main/2021/20210325114733.png" alt="comparing-react-ssr-frameworks-umi-vs-next"></p>
<p>UmiJS is an extensible, enterprise-level React framework authored by <a target="_blank" rel="noopener" href="https://github.com/sorrycc">Alipay’s developer team</a>. Alipay uses it in its internal projects, as do several other companies such as <a target="_blank" rel="noopener" href="https://www.youku.com/">Youku</a> and <a target="_blank" rel="noopener" href="https://www.neteasegames.com/">Netease</a>.</p>
<p>While exploring this framework, I discovered that it’s similar to Next.js in a handful of interesting ways. Both have support for routing and server-side rendering out of the box as well as TypeScript.</p>
<p>Along the way, I got curious about Umi and decided to look deeper into the framework to see how it compares with Next. I evaluated both frameworks based on the criteria listed below. Here are my findings.</p>
<h2 id="CSS-support"><a href="#CSS-support" class="headerlink" title="CSS support"></a>CSS support</h2><p>Next has support for <a target="_blank" rel="noopener" href="https://nextjs.org/docs/basic-features/built-in-css-support">all CSS styling methods</a> including CSS in JS, Sass, Stylus, Less, CSS module and Post CSS. You can just import the css file into your pages in case of regular CSS:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; styles.css</span><br><span class="line">body &#123;</span><br><span class="line">  font-family: &#39;SF Pro Text&#39;, &#39;SF Pro Icons&#39;, &#39;Helvetica Neue&#39;, &#39;Helvetica&#39;,</span><br><span class="line">    &#39;Arial&#39;, sans-serif;</span><br><span class="line">  padding: 20px 20px 60px;</span><br><span class="line">  max-width: 680px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; pages&#x2F;_app.js</span><br><span class="line">import &#39;..&#x2F;styles.css&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; This default export is required in a new &#96;pages&#x2F;_app.js&#96; file.</span><br><span class="line">export default function MyApp(&#123; Component, pageProps &#125;) &#123;</span><br><span class="line">  return &lt;Component &#123;...pageProps&#125; &#x2F;&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Next has official plugins for writing CSS using Sass, Stylus, and Less. If you’re using CSS modules, you’ll need to follow Next’s naming convention, <code>[name].module.css</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Button.module.css</span><br><span class="line">&#x2F;*</span><br><span class="line">You do not need to worry about .error &#123;&#125; colliding with any other &#96;.css&#96; or</span><br><span class="line">&#96;.module.css&#96; files!</span><br><span class="line">*&#x2F;</span><br><span class="line">.error &#123;</span><br><span class="line">  color: white;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Button.js</span><br><span class="line">import styles from &#39;.&#x2F;Button.module.css&#39;</span><br><span class="line"></span><br><span class="line">export function Button() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;button</span><br><span class="line">      type&#x3D;&quot;button&quot;</span><br><span class="line">      &#x2F;&#x2F; Note how the &quot;error&quot; class is accessed as a property on the imported</span><br><span class="line">      &#x2F;&#x2F; &#96;styles&#96; object.</span><br><span class="line">      className&#x3D;&#123;styles.error&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      Destroy</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Umi, on the other hand, has dropped support for Sass and currently supports regular CSS, CSS module, and Less. If you want to use Sass or Stylus, you’ll need to configure the webpack config to do so. Umi automatically recognizes the use of CSS modules.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example of CSS Modules</span></span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;./foo.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Example of Non-CSS Modules</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./foo.css&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="webpack-customization"><a href="#webpack-customization" class="headerlink" title="webpack customization"></a>webpack customization</h2><p>Next features such as code splitting, hot code reloading, and server-side rendering already work out of the box. But if you need extra power or just a different configuration, Next allows you to write your own configuration through its <a target="_blank" rel="noopener" href="https://nextjs.org/docs/api-reference/next.config.js/introduction"><code>next.config.js</code></a> module. The config file is a regular Node.js module instead of a JSON file.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">/* config options here */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Umi also has its <a target="_blank" rel="noopener" href="https://umijs.org/docs/config">own configuration file</a>, but it’s in the form of JSON file.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  base: <span class="string">&#x27;/docs/&#x27;</span>,</span><br><span class="line">  publicPath: <span class="string">&#x27;/static/&#x27;</span>,</span><br><span class="line">  hash: <span class="literal">true</span>,</span><br><span class="line">  history: &#123;</span><br><span class="line">    type: <span class="string">&#x27;hash&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Documentation"><a href="#Documentation" class="headerlink" title="Documentation"></a>Documentation</h2><p>I found Next’s documentation to be more detailed in explaining how to use each feature.</p>
<p>To show how each feature works, the docs walk you through building a simple blog app.</p>
<p><img src="https://raw.githubusercontent.com/macshion/PicBed/main/2021/image-20210325142751370.png" alt="image-20210325142751370"></p>
<p>Another thing to consider: part of Umi’s documentation is not yet translated into English (Umi’s main user base is located in China). I had to use Google Translate feature to help me read the documentation.</p>
<p><img src="https://raw.githubusercontent.com/macshion/PicBed/main/2021/image-20210325142834404.png" alt="image-20210325142834404"></p>
<h2 id="CLI-support"><a href="#CLI-support" class="headerlink" title="CLI support"></a>CLI support</h2><p>Umi has some interesting CLI support to generate pages and check the current webpack configuration.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Usage: umi &lt;command&gt; [options]</span><br><span class="line"></span><br><span class="line">  Commands:</span><br><span class="line"></span><br><span class="line">    build     build application for production</span><br><span class="line">    config    umi config cli</span><br><span class="line">    dev       start a dev server for development</span><br><span class="line">    generate  generate code snippets quickly</span><br><span class="line">    help      show command helps</span><br><span class="line">    plugin    inspect umi plugins</span><br><span class="line">    version   show umi version</span><br><span class="line">    webpack   inspect webpack configurations</span><br><span class="line">    dva       </span><br><span class="line">    test      test with jest</span><br><span class="line"></span><br><span class="line">  Run &#96;umi help &lt;command&gt;&#96; for more information of specific commands.</span><br><span class="line">  Visit https:&#x2F;&#x2F;umijs.org&#x2F; to learn more about Umi.</span><br></pre></td></tr></table></figure>
<p>Next’s CLI support is focused solely on helping you to deploy the application.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Usage</span><br><span class="line">  $ next &lt;command&gt;</span><br><span class="line"></span><br><span class="line">Available commands</span><br><span class="line">  build, start, export, dev, telemetry</span><br><span class="line"></span><br><span class="line">Options</span><br><span class="line">  --version, -v   Version number</span><br><span class="line">  --help, -h      Displays this message</span><br><span class="line"></span><br><span class="line">For more information run a command with the --help flag</span><br><span class="line">  $ next build --help</span><br></pre></td></tr></table></figure>
<h2 id="Plugin-system"><a href="#Plugin-system" class="headerlink" title="Plugin system"></a>Plugin system</h2><p>Umi’s internal functions are all third-party plugins. The documentation covers how its <a target="_blank" rel="noopener" href="https://umijs.org/plugins/api">plugin system</a> works, complete with a <a target="_blank" rel="noopener" href="https://umijs.org/plugins/test">test framework</a>.</p>
<p>Next has its own <a target="_blank" rel="noopener" href="https://github.com/vercel/next-plugins">set of plugins</a>, but I can’t seem to find instructions on how to create one and share it with other developers.</p>
<h2 id="Why-Next-has-the-edge"><a href="#Why-Next-has-the-edge" class="headerlink" title="Why Next has the edge"></a>Why Next has the edge</h2><p>Both Next and Umi fully support building React applications for production with little to no configuration. Next has more complete support for writing CSS and customizing its webpack configuration, while Umi is more opinionated and doesn’t give much support for webpack configurations.</p>
<p>For now, I prefer Next to Umi because I find the Umi documentation a bit hard to understand. I also found more guides for building things with Next, such as e-commerce websites and <a target="_blank" rel="noopener" href="https://scotch.io/@sw-yx/using-nextjs-as-a-static-site-generator-for-netlify">static sites</a>.</p>
<p>Original link: <a target="_blank" rel="noopener" href="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/">How does UmiJS stack up against Next.js?</a></p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/Youtube-ltc%E4%B8%8B%E8%BD%BD%E6%B2%B9%E7%AE%A1%E5%92%8CB%E7%AB%99%E8%A7%86%E9%A2%91/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="Update time"></i>
              2021-03-25
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags" title="Tags"></i>
                    
                    <span class="span--tag">
                      <a href="/tags/React/" title="React">
                        <b>#</b> React
                      </a>
                    </span>
                    
                    <span class="span--tag">
                      <a href="/tags/Umi/" title="Umi">
                        <b>#</b> Umi
                      </a>
                    </span>
                    
                    <span class="span--tag">
                      <a href="/tags/Nextjs/" title="Nextjs">
                        <b>#</b> Nextjs
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/Using-Throttling-and-Debouncing-with-React-hooks/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div class="post-catalog" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS-support"><span class="toc-text">CSS support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-customization"><span class="toc-text">webpack customization</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Documentation"><span class="toc-text">Documentation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CLI-support"><span class="toc-text">CLI support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Plugin-system"><span class="toc-text">Plugin system</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-Next-has-the-edge"><span class="toc-text">Why Next has the edge</span></a></li></ol>
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        





      </div>
    
  </div>


        <div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/macshion">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="twitter" target="_blank" rel="noopener" href="https://twitter.com/_Macshion">
            <i class="iconfont icon-twitter"></i>
          </a>
        </li>
      
        <li>
          <a title="weibo" target="_blank" rel="noopener" href="https://weibo.com/1909056972">
            <i class="iconfont icon-weibo"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    <div class="footer-more">
      
        <a href="https://macshion.github.io/">Copyright © Macshion 2019+</a>
        
    </div>
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



      
  <div class="search-icon" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




    </div>
  </body>
</html>
