<!DOCTYPE html>
<html lang="zh-CN">

  <head>
  <meta charset="utf-8">
  <meta name="author" content="zchengsite, 1451426471@qq.com" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  
  <title>How To Use Styled-Components In React   | Macshion</title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/js/fancybox.js"></script>


  

<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Macshion" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <div class="nickname"><a href="/">Macshion</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Links</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->



  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">How To Use Styled-Components In React</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="Update time"></i>
          2020-12-16
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags" title="Tags"></i>
                
                <span class="span--tag">
                  <a href="/tags/React/" title="React">
                    <b>#</b> React
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <p>While the component-driven approach has ushered in a new frontier in the way we build web applications, it isn’t without its imperfections — one being its usability and scalability with CSS. This has given birth to a new way to construct and manage our styles in a <strong>component-specific</strong> manner, otherwise knows as CSS-in-JS.</p>
<a id="more"></a>

<p><img src="https://raw.githubusercontent.com/macshion/PicBed/main/images/71c9e5ccly1gl03fzpjqkj218g0kmdhh.jpg" alt="Styled components"></p>
<p>Styled components are a CSS-in-JS tool that bridges the gap between components and styling, offering numerous features to get you up and running in styling components in a functional and reusable way. In this article, you’ll learn the basics of styled components and how to properly apply them to your React applications. You should have worked on React previously before going through this tutorial. If you’re looking for various options in styling React components, you can check out our <a target="_blank" rel="noopener" href="https://www.smashingmagazine.com/2020/05/styling-components-react/">previous post on the subject</a>.</p>
<p>At the core of CSS is the capability to target any HTML element — globally — no matter its position in the DOM tree. This can be a hindrance when used with components, because components demand, to a reasonable extent, colocation (i.e. keeping assets such as states and styling) closer to where they’re used (known as localization).</p>
<p>In React’s own words, styled components are “<strong>visual primitives for components</strong>”, and their goal is to give us a flexible way to style components. The result is a tight coupling between components and their styles.</p>
<p>Note: Styled components are available both for React and React Native, and while you should definitely check out the React Native guide, our focus here will be on styled components for React.</p>
<h3 id="Why-Styled-Components"><a href="#Why-Styled-Components" class="headerlink" title="Why Styled Components?"></a>Why Styled Components?</h3><p>Apart from helping you to scope styles, styled components include the following features:</p>
<ul>
<li><strong>Automatic vendor prefixing</strong><br>  You can use standard CSS properties, and styled components will add vendor prefixes should they be needed.</li>
<li><strong>Unique class names</strong><br>  Styled components are independent of each other, and you do not have to worry about their names because the library handles that for you.</li>
<li><strong>Elimination of dead styles</strong><br>  Styled components remove unused styles, even if they’re declared in your code.</li>
<li>and <a target="_blank" rel="noopener" href="https://styled-components.com/docs/basics#motivation">many more</a>.</li>
</ul>
<h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p>Installing styled components is easy. You can do it through a <a target="_blank" rel="noopener" href="https://styled-components.com/docs/basics#installation">CDN</a> or with a package manager such as Yarn…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add styled-components</span><br></pre></td></tr></table></figure>

<p>… or npm:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i styled-components</span><br></pre></td></tr></table></figure>


<p>Our demo uses <a target="_blank" rel="noopener" href="https://create-react-app.dev/">create-react-app</a>.</p>
<h3 id="Starting-Out"><a href="#Starting-Out" class="headerlink" title="Starting Out"></a>Starting Out</h3><p>Perhaps the first thing you’ll notice about styled components is their syntax, which can be daunting if you don’t understand the <a target="_blank" rel="noopener" href="https://mxstbr.blog/2016/11/styled-components-magic-explained/">magic behind styled components</a>. To put it briefly, styled components use JavaScript’s <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a> to bridge the gap between components and styles. So, when you create a styled component, what you’re actually creating is a React component with styles. It looks like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Styled component named StyledButton</span></span><br><span class="line"><span class="keyword">const</span> StyledButton = styled.button<span class="string">`</span></span><br><span class="line"><span class="string">  background-color: black;</span></span><br><span class="line"><span class="string">  font-size: 32px;</span></span><br><span class="line"><span class="string">  color: white;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Component</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Use it like any other component.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">StyledButton</span>&gt;</span> Login <span class="tag">&lt;/<span class="name">StyledButton</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, <code>StyledButton</code> is the styled component, and it will be rendered as an HTML button with the contained styles. <code>styled</code> is an internal utility method that transforms the styling from JavaScript into actual CSS.</p>
<p>In raw HTML and CSS, we would have this:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;button&gt; Login &lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>If styled components are React components, can we use props? Yes, we can.</p>
<h3 id="Adapting-Based-on-Props"><a href="#Adapting-Based-on-Props" class="headerlink" title="Adapting Based on Props"></a>Adapting Based on Props</h3><p>Styled components are <strong>functional</strong>, so we can easily style elements dynamically. Let’s assume we have two types of buttons on our page, one with a black background, and the other blue. We do not have to create two styled components for them; we can adapt their styling based on their props.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">import</span> <span class="selector-tag">styled</span> <span class="selector-tag">from</span> &quot;<span class="selector-tag">styled-components</span>&quot;;</span><br><span class="line"></span><br><span class="line">const StyledButton = styled.button`</span><br><span class="line">  <span class="selector-tag">min-width</span>: 200<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">border</span>: <span class="selector-tag">none</span>;</span><br><span class="line">  <span class="selector-tag">font-size</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">padding</span>: 7<span class="selector-tag">px</span> 10<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="comment">/* The resulting background color will be based on the bg props. */</span></span><br><span class="line">  background-color: $&#123;props =&gt; props.bg === &quot;black&quot; ? &quot;black&quot; : &quot;blue&quot;;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">Profile</span>() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">      &lt;StyledButton bg=&quot;black&quot;&gt;Button A&lt;/StyledButton&gt;</span><br><span class="line">      &lt;StyledButton bg=&quot;blue&quot;&gt;Button B&lt;/StyledButton&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Because <code>StyledButton</code> is a React component that accepts props, we can assign a different background color based on the existence or value of the <code>bg</code> prop.</p>
<p>You’ll notice, though, that we haven’t given our button a <code>type</code>. Let’s do that:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">Profile</span>() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;StyledButton bg=&quot;black&quot; type=&quot;button&quot;&gt;</span><br><span class="line">        <span class="selector-tag">Button</span> <span class="selector-tag">A</span></span><br><span class="line">      &lt;/StyledButton&gt;</span><br><span class="line">      &lt;StyledButton bg=&quot;blue&quot; type=&quot;submit&quot; onClick=&#123;() =&gt; alert(&quot;clicked&quot;)&#125;&gt;</span><br><span class="line">        <span class="selector-tag">Button</span> <span class="selector-tag">B</span></span><br><span class="line">      &lt;/StyledButton&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Styled components can differentiate between the <a target="_blank" rel="noopener" href="https://styled-components.com/docs/basics#passed-props">types of props</a> they receive. They know that <code>type</code> is an HTML attribute, so they actually render <code>&lt;button type=&quot;button&quot;&gt;Button A&lt;/button&gt;</code>, while using the <code>bg</code> prop in their own processing. Notice how we attached an event handler, too?</p>
<p>Speaking of attributes, an extended syntax lets us manage props using the <a target="_blank" rel="noopener" href="https://styled-components.com/docs/api#attrs"><code>attrs</code> constructor</a>. Check this out:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> StyledContainer = styled.section.attrs(<span class="function">(<span class="params">props</span>) =&gt;</span> (&#123;</span><br><span class="line">  width: props.width || <span class="string">&quot;100%&quot;</span>,</span><br><span class="line">  hasPadding: props.hasPadding || <span class="literal">false</span>,</span><br><span class="line">&#125;))<span class="string">`</span></span><br><span class="line"><span class="string">  --container-padding: 20px;</span></span><br><span class="line"><span class="string">  width: <span class="subst">$&#123;(props) =&gt; props.width&#125;</span>; // Falls back to 100%</span></span><br><span class="line"><span class="string">  padding: <span class="subst">$&#123;(props) =&gt;</span></span></span><br><span class="line"><span class="string"><span class="subst">    (props.hasPadding &amp;&amp; <span class="string">&quot;var(--container-padding)&quot;</span>) || <span class="string">&quot;none&quot;</span>&#125;</span>;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>

<p>Notice how we don’t need a ternary when setting the width? That’s because we’ve already set a default for it with <code>width: props.width || &quot;100%&quot;,</code>. Also, we used <a target="_blank" rel="noopener" href="https://styled-components.com/docs/basics#passed-props">CSS custom properties</a> because we can!</p>
<p>Note: If styled components are React components, and we can pass props, then can we also use states? The library’s GitHub account has an <a target="_blank" rel="noopener" href="https://github.com/styled-components/styled-components/issues/1746">issue addressing this</a> very matter.</p>
<h4 id="Extending-Styles"><a href="#Extending-Styles" class="headerlink" title="Extending Styles"></a>Extending Styles</h4><p>Let’s say you’re working on a landing page, and you’ve set your <a target="_blank" rel="noopener" href="https://css-tricks.com/the-inside-problem/">container to a certain max-width</a> to keep things centered. You have a <code>StyledContainer</code> for that:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const StyledContainer = styled.section`</span><br><span class="line">  <span class="selector-tag">max-width</span>: 1024<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">padding</span>: 0 20<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>Then, you discover that you need a smaller container, with padding of 10 pixels on both sides, instead of 20 pixels. Your first thought might be to create another styled component, and you’d be right, but it wouldn’t take any time before you realize that you are duplicating styles.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const StyledContainer = styled.section`</span><br><span class="line">  <span class="selector-tag">max-width</span>: 1024<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">padding</span>: 0 20<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const StyledSmallContainer = styled.section`</span><br><span class="line">  <span class="selector-tag">max-width</span>: 1024<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">padding</span>: 0 10<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>Before you go ahead and create <code>StyledSmallContainer</code>, like in the snippet above, let’s learn the way to reuse and inherit styles. It’s more or less like how the <code>spread</code> operator works:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> StyledContainer = styled.section<span class="string">`</span></span><br><span class="line"><span class="string">  max-width: 1024px;</span></span><br><span class="line"><span class="string">  padding: 0 20px;</span></span><br><span class="line"><span class="string">  margin: 0 auto;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Inherit StyledContainer in StyledSmallConatiner</span></span><br><span class="line"><span class="keyword">const</span> StyledSmallContainer = styled(StyledContainer)<span class="string">`</span></span><br><span class="line"><span class="string">  padding: 0 10px;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledContainer&gt;</span><br><span class="line">      &lt;h1&gt;The secret is to be happy&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Contact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledSmallContainer&gt;</span><br><span class="line">      &lt;h1&gt;The road goes on and on&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledSmallContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In your <code>StyledSmallContainer</code>, you’ll get all of the styles from <code>StyledContainer</code>, but the padding will be overridden. Keep in mind that, ordinarily, you’ll get a section element rendered for <code>StyledSmallContainer</code>, because that’s what <code>StyledContainer</code> renders. But that doesn’t mean it’s carved in stone or unchangeable.</p>
<h4 id="The-“as”-Polymorphic-Prop"><a href="#The-“as”-Polymorphic-Prop" class="headerlink" title="The “as” Polymorphic Prop"></a>The “as” Polymorphic Prop</h4><p>With the <a target="_blank" rel="noopener" href="https://styled-components.com/docs/api#as-polymorphic-prop"><code>as</code> polymorphic prop</a>, you can swap the <strong>end</strong> element that gets rendered. One use case is when you inherit styles (as in the last example). If, for example, you’d prefer a <code>div</code> to a <code>section</code> for <code>StyledSmallContainer</code>, you can pass the <code>as</code> prop to your styled component with the value of your preferred element, like so:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledContainer&gt;</span><br><span class="line">      &lt;h1&gt;It’s business, not personal&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Contact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledSmallContainer <span class="keyword">as</span>=<span class="string">&quot;div&quot;</span>&gt;</span><br><span class="line">      &lt;h1&gt;Never dribble when you can pass&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledSmallContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now, <code>StyledSmallContainer</code> will be rendered as a <code>div</code>. You could even have a custom component as your value:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledContainer&gt;</span><br><span class="line">      &lt;h1&gt;It’s business, not personal&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Contact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledSmallContainer <span class="keyword">as</span>=&#123;StyledContainer&#125;&gt;</span><br><span class="line">      &lt;h1&gt;Never dribble when you can pass&lt;/h1&gt;</span><br><span class="line">    &lt;/StyledSmallContainer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Don’t take it for granted.</p>
<h4 id="SCSS-Like-Syntax"><a href="#SCSS-Like-Syntax" class="headerlink" title="SCSS-Like Syntax"></a>SCSS-Like Syntax</h4><p>The CSS preprocessor <a target="_blank" rel="noopener" href="https://stylis.js.org/">Stylis</a> enables styled components to support SCSS-like syntax, such as nesting:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">const StyledProfileCard = styled.div`</span><br><span class="line">  <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">black</span>;</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-class">.username</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.2s</span>;</span><br><span class="line"></span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">      <span class="selector-tag">color</span>: <span class="selector-tag">red</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    + <span class="selector-class">.dob</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: grey;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">ProfileCard</span>() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;<span class="selector-tag">StyledProfileCard</span>&gt;</span><br><span class="line">      &lt;h1 className=&quot;username&quot;&gt;John Doe&lt;/h1&gt;</span><br><span class="line">      &lt;p className=&quot;dob&quot;&gt;</span><br><span class="line">        Date: &lt;span&gt;12th October, 2013&lt;/span&gt;</span><br><span class="line">      &lt;/p&gt;</span><br><span class="line">      &lt;p className=&quot;gender&quot;&gt;Male&lt;/p&gt;</span><br><span class="line">    &lt;/StyledProfileCard&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>Styled components have a <code>keyframes</code> helper that assists with constructing (reusable) animation keyframes. The advantage here is that the keyframes will be detached from the styled components and can be exported and reused wherever needed.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import styled, &#123;keyframes&#125; from &quot;styled-components&quot;;</span><br><span class="line"></span><br><span class="line">const slideIn = keyframes`</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">const Toast = styled.div`</span><br><span class="line">  animation: $&#123;slideIn&#125; 0.5s cubic-bezier(0.4, 0, 0.2, 1) both;</span><br><span class="line">  <span class="selector-tag">border-radius</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">padding</span>: 20<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">position</span>: <span class="selector-tag">fixed</span>;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<h4 id="Global-Styling"><a href="#Global-Styling" class="headerlink" title="Global Styling"></a>Global Styling</h4><p>While the original goal of CSS-in-JS and, by extension, styled components is scoping of styles, we can also leverage styled components’ global styling. Because we’re mostly working with scoped styles, you might think that’s an invariable factory setting, but you’d be wrong. Think about it: What really is scoping? It’s technically possible for us — in the name of global styling — to do something similar to this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;StyledApp&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/StyledApp&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;root&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>But we already have a helper function — <code>createGlobalStyle</code> — whose sole reason for existence is global styling. So, why deny it its responsibility?</p>
<p>One thing we can use <code>createGlobalStyle</code> for is to <a target="_blank" rel="noopener" href="https://necolas.github.io/normalize.css/">normalize the CSS</a>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createGlobalStyle&#125; <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> GlobalStyle = createGlobalStyle<span class="string">`</span></span><br><span class="line"><span class="string">    /* Your css reset here */</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use your GlobalStyle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;GlobalStyle /&gt;</span><br><span class="line">      &lt;Routes /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong> Styles created with <code>createGlobalStyle</code> do not accept any children. Learn more <a target="_blank" rel="noopener" href="https://styled-components.com/docs/api#createglobalstyle">in the documentation</a>.</p>
<p>At this point, you might be wondering why we should bother using <code>createGlobalStlye</code> at all. Here are a few reasons:</p>
<ul>
<li>We can’t target anything outside of the root render without it (for example, <code>html</code>, <code>body</code>, etc.).</li>
<li><code>createGlobalStyle</code> injects styles but does not render any actual elements. If you look at the last example closely, you’ll notice we didn’t specify any HTML element to render. This is cool because we might not actually need the element. After all, we’re concerned with global styles. We are targeting selectors at large, not specific elements.</li>
<li><code>createGlobalStyle</code> is not scoped and can be rendered anywhere in our app and will be applicable as long as it’s in the DOM. Think about the <strong>concept</strong>, not the <strong>structure</strong>.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createGlobalStyle&#125; <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> GlobalStyle = createGlobalStyle<span class="string">`</span></span><br><span class="line"><span class="string">  /* Your css reset here */</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  .app-title &#123;</span></span><br><span class="line"><span class="string">    font-size: 40px;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> StyledNav = styled.nav<span class="string">`</span></span><br><span class="line"><span class="string">    /* Your styles here */</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Nav</span>(<span class="params">&#123;children&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;StyledNav&gt;</span><br><span class="line">      &lt;GlobalStyle /&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/StyledNav&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Nav&gt;</span><br><span class="line">        &lt;h1 className=<span class="string">&quot;app-title&quot;</span>&gt;STYLED COMPONENTS&lt;/h1&gt;</span><br><span class="line">      &lt;/Nav&gt;</span><br><span class="line">      &lt;Main /&gt;</span><br><span class="line">      &lt;Footer /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If you think about the structure, then <code>app-title</code> should not be styled as set in <code>GlobalStyle</code>. But it doesn’t work that way. Wherever you choose to render your <code>GlobalStyle</code>, it will be injected when your component is <strong>rendered</strong>.</p>
<p><strong>Be careful</strong>: <code>createGlobalStyles</code> will only be rendered if and when it’s in the DOM.</p>
<h4 id="CSS-Helper"><a href="#CSS-Helper" class="headerlink" title="CSS Helper"></a>CSS Helper</h4><p>Already we’ve seen how to adapt styles based on props. What if we wanted to go a little further? The CSS helper function helps to achieve this. Let’s assume we have two text-input fields with states: empty and active, each with a different color. We can do this:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const StyledTextField = styled.input`</span><br><span class="line">  color: $&#123;(props) =&gt; (props.isEmpty ? &quot;none&quot; : &quot;black&quot;)&#125;;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>All’s well. Subsequently, if we need to add another state of filled, we’d have to modify our styles:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const StyledTextField = styled.input`</span><br><span class="line">  color: $&#123;(props) =&gt;</span><br><span class="line">    <span class="selector-tag">props</span><span class="selector-class">.isEmpty</span> ? &quot;<span class="selector-tag">none</span>&quot; : <span class="selector-tag">props</span><span class="selector-class">.active</span> ? &quot;<span class="selector-tag">purple</span>&quot; : &quot;<span class="selector-tag">blue</span>&quot;&#125;;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>Now the ternary operation is growing in complexity. What if we add another state to our text-input fields later on? Or what if we want to give each state additional styles, other than color? Can you imagine cramping the styles into the ternary operation? The <code>css</code> helper comes in handy.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const StyledTextField = styled.input`</span><br><span class="line">  <span class="selector-tag">width</span>: 100%;</span><br><span class="line">  <span class="selector-tag">height</span>: 40<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line">  $&#123;(props) =&gt;</span><br><span class="line">    (<span class="selector-tag">props</span><span class="selector-class">.empty</span> &amp;&amp;</span><br><span class="line">      <span class="selector-tag">css</span>`</span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-tag">none</span>;</span><br><span class="line">        <span class="selector-tag">backgroundcolor</span>: <span class="selector-tag">white</span>;</span><br><span class="line">      `) ||</span><br><span class="line">    (<span class="selector-tag">props</span><span class="selector-class">.active</span> &amp;&amp;</span><br><span class="line">      <span class="selector-tag">css</span>`</span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-tag">black</span>;</span><br><span class="line">        <span class="selector-tag">backgroundcolor</span>: <span class="selector-tag">whitesmoke</span>;</span><br><span class="line">      `)&#125;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>What we’ve done is sort of expanded our ternary syntax to accommodate more styles, and with a more understandable and organized syntax. If the previous statement seems wrong, it’s because the code is trying to do too much. So, let’s step back and refine:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">const StyledTextField = styled.input`</span><br><span class="line"><span class="selector-tag">width</span>: 100%;</span><br><span class="line"><span class="selector-tag">height</span>: 40<span class="selector-tag">px</span>;</span><br><span class="line"></span><br><span class="line">// 1. Empty state</span><br><span class="line">$&#123;(props) =&gt;</span><br><span class="line">  <span class="selector-tag">props</span><span class="selector-class">.empty</span> &amp;&amp;</span><br><span class="line">  <span class="selector-tag">css</span>`</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">backgroundcolor</span>: <span class="selector-tag">white</span>;</span><br><span class="line">  `&#125;</span><br><span class="line"></span><br><span class="line">// 2. Active state</span><br><span class="line">$&#123;(props) =&gt;</span><br><span class="line">  <span class="selector-tag">props</span><span class="selector-class">.active</span> &amp;&amp;</span><br><span class="line">  <span class="selector-tag">css</span>`</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">black</span>;</span><br><span class="line">    <span class="selector-tag">backgroundcolor</span>: <span class="selector-tag">whitesmoke</span>;</span><br><span class="line">  `&#125;</span><br><span class="line"></span><br><span class="line">// 3. Filled state</span><br><span class="line">$&#123;(props) =&gt;</span><br><span class="line">  <span class="selector-tag">props</span><span class="selector-class">.filled</span> &amp;&amp;</span><br><span class="line">  <span class="selector-tag">css</span>`</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-tag">black</span>;</span><br><span class="line">    <span class="selector-tag">backgroundcolor</span>: <span class="selector-tag">white</span>;</span><br><span class="line">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">green</span>;</span><br><span class="line">  `&#125;</span><br><span class="line">`;</span><br></pre></td></tr></table></figure>

<p>Our refinement splits the styling into three different manageable and easy-to-understand chunks. It’s a win.</p>
<h4 id="StyleSheetManager"><a href="#StyleSheetManager" class="headerlink" title="StyleSheetManager"></a>StyleSheetManager</h4><p>Like the CSS helper, <code>StyleSheetManager</code> is a helper method for modifying how styles are processed. It takes certain props — like <code>disableVendorPrefixes</code> (you can check out the <a target="_blank" rel="noopener" href="https://styled-components.com/docs/api#stylesheetmanager">full list</a>) — that help you opt out of <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix">vendor prefixes</a> from its subtree.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styled, &#123;StyleSheetManager&#125; <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> StyledCard = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  width: 200px;</span></span><br><span class="line"><span class="string">  backgroundcolor: white;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> StyledNav = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  width: calc(100% - var(--side-nav-width));</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Profile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;StyledNav /&gt;</span><br><span class="line">      &lt;StyleSheetManager disableVendorPrefixes&gt;</span><br><span class="line">        &lt;StyledCard&gt; This is a card &lt;/StyledCard&gt;</span><br><span class="line">      &lt;/StyleSheetManager&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>disableVendorPrefixes</code> is passed as a prop to <code>&lt;StyleSheetManager&gt;</code>. So, the styled components wrapped by <code>&lt;StyleSheetManager&gt;</code> would be disabled, but not the ones in <code>&lt;StyledNav&gt;</code>.</p>
<h4 id="Easier-Debugging"><a href="#Easier-Debugging" class="headerlink" title="Easier Debugging"></a>Easier Debugging</h4><p>When introducing styled components to one of my colleagues, one of their complaints was that it’s hard to locate a rendered element in the DOM — or in React Developer Tools, for that matter. This is one of the drawbacks of styled components: In trying to provide unique class names, it assigns unique hashes to elements, which happen to be cryptic, but it makes the <code>displayName</code> readable for easier debugging.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./App.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> LoginButton = styled.button<span class="string">`</span></span><br><span class="line"><span class="string">  background-color: white;</span></span><br><span class="line"><span class="string">  color: black;</span></span><br><span class="line"><span class="string">  border: 1px solid red;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">&quot;App&quot;</span>&gt;</span><br><span class="line">      &lt;LoginButton&gt;Login&lt;/LoginButton&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>By default, styled components render <code>LoginButton</code> as <code>&lt;button class=&quot;LoginButton-xxxx xxxx&quot;&gt;Login&lt;/button&gt;</code> in the DOM, and as <code>LoginButton</code> in React Developer Tools, which makes debugging easier. We can toggle the <code>displayName</code> boolean if we don’t want this behavior. This requires a Babel configuration.</p>
<p><strong>Note</strong>: In the documentation, the package <code>babel-plugin-styled-components</code> is specified, as well as a <code>.babelrc</code> configuration file. The issue with this is that, because we’re using <code>create-react-app</code>, we can’t configure a lot of things unless we eject. This is where Babel macros come in.</p>
<p>We’ll need to install <code>babel-plugin-macros</code> with npm or Yarn, and then create a <code>babel-plugin-macros.config.js</code> at the root of our application, with the content:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  styledComponents: &#123;</span><br><span class="line">    displayName: <span class="literal">true</span>,</span><br><span class="line">    fileName: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>With the <code>fileName</code> value inverted, the <code>displayName</code> will be prefixed with the file name for even more unique precision.</p>
<p>We also now need to import from the <code>macro</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Before</span></span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// After</span></span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components/macro&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Now that you can programmatically compose your CSS, do not abuse the freedom. For what it’s worth, do your very best to maintain sanity in your styled components. Don’t try to compose heavy conditionals, nor suppose that every thing should be a styled component. Also, do not over-abstract by creating nascent styled components for use cases that you are only guessing are somewhere around the corner.</p>
<h4 id="Further-Resources"><a href="#Further-Resources" class="headerlink" title="Further Resources"></a>Further Resources</h4><ol>
<li><a target="_blank" rel="noopener" href="https://styled-components.com/docs">Documentation</a>, Styled Components</li>
<li>“<a target="_blank" rel="noopener" href="https://levelup.gitconnected.com/building-a-reusable-component-system-with-react-js-and-styled-components-4e9f1018a31c">Building a Reusable Component System with React.js and styled-components</a>”, Lukas Gisder-Dubé</li>
<li><a target="_blank" rel="noopener" href="https://styled-components.com/docs/advanced#nextjs">Usage with Next.js</a></li>
<li><a target="_blank" rel="noopener" href="https://styled-components.com/docs/advanced#gatsby">Usage with Gatsby</a></li>
</ol>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/20201119/chrome-extensions/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="Update time"></i>
              2020-12-16
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags" title="Tags"></i>
                    
                    <span class="span--tag">
                      <a href="/tags/React/" title="React">
                        <b>#</b> React
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/20201216/Typora-PicGo-Github/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div class="post-catalog" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-Styled-Components"><span class="toc-text">Why Styled Components?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Installation"><span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Starting-Out"><span class="toc-text">Starting Out</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Adapting-Based-on-Props"><span class="toc-text">Adapting Based on Props</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Extending-Styles"><span class="toc-text">Extending Styles</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#The-%E2%80%9Cas%E2%80%9D-Polymorphic-Prop"><span class="toc-text">The “as” Polymorphic Prop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SCSS-Like-Syntax"><span class="toc-text">SCSS-Like Syntax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Animation"><span class="toc-text">Animation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Global-Styling"><span class="toc-text">Global Styling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS-Helper"><span class="toc-text">CSS Helper</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StyleSheetManager"><span class="toc-text">StyleSheetManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Easier-Debugging"><span class="toc-text">Easier Debugging</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Further-Resources"><span class="toc-text">Further Resources</span></a></li></ol></li></ol>
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        





      </div>
    
  </div>


        <div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/macshion">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="twitter" target="_blank" rel="noopener" href="https://twitter.com/_Macshion">
            <i class="iconfont icon-twitter"></i>
          </a>
        </li>
      
        <li>
          <a title="weibo" target="_blank" rel="noopener" href="https://weibo.com/1909056972">
            <i class="iconfont icon-weibo"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    <div class="footer-more">
      
        <a href="https://macshion.github.io/">Copyright © Macshion 2019+</a>
        
    </div>
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



      
  <div class="search-icon" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




    </div>
  </body>
</html>
