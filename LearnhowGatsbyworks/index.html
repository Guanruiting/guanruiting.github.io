<!DOCTYPE html>
<html lang="zh-CN">

  <head>
  <meta charset="utf-8">
  <meta name="author" content="zchengsite, 1451426471@qq.com" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  
  <title>Tutorial: Learn how Gatsby works   | Macshion</title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/github-markdown.css">
<link rel="stylesheet" href="/css/highlight.css">


  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/js/fancybox.js"></script>


  

<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Macshion" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="flex-container header">
    <div class="avatar">
    <a href="/">
      
        <img src="/images/avatar.png" alt="">
      
    </a>
    <!-- <div class="nickname"><a href="/">Macshion</a></div> -->
  </div>
    <div class="header-container">
  
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Categories</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Links</a>
        </li>
      
    </ul>
  </div>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- æ–‡ç« è¯¦æƒ…é¡µï¼Œå±•ç¤ºæ–‡ç« å…·ä½“å†…å®¹ï¼Œurlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
<!-- åŒæ—¶ä¸ºã€Œæ ‡ç­¾tagã€ï¼Œã€Œæœ‹å‹friendã€ï¼Œã€Œåˆ†ç±»categoriesã€ï¼Œã€Œå…³äºaboutã€é¡µé¢çš„æ‰¿è½½é¡µé¢ï¼Œå…·ä½“å±•ç¤ºå–å†³äºpage.type -->



  

  

  

  
  <!-- æ–‡ç« å†…å®¹é¡µ urlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">Tutorial: Learn how Gatsby works</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime" title="Update time"></i>
          2020-12-29
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags" title="Tags"></i>
                
                <span class="span--tag">
                  <a href="/tags/React/" title="React">
                    <b>#</b> React
                  </a>
                </span>
                
                <span class="span--tag">
                  <a href="/tags/Gatsby/" title="Gatsby">
                    <b>#</b> Gatsby
                  </a>
                </span>
                
                <span class="span--tag">
                  <a href="/tags/SSR/" title="SSR">
                    <b>#</b> SSR
                  </a>
                </span>
                
              </span>
          
      </div>
      <div class="markdown-body">
        <p>The goal of this tutorial is to guide you through setting up and deploying your first Gatsby site. Along the way, youâ€™ll learn some general web development topics as well as the fundamentals of building a Gatsby site.</p>
<blockquote>
<p><strong>Note:</strong> This tutorial is intended to be as accessible as possible to people without much web development experience. If you prefer to jump straight to code, feel free to skip to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/quick-start">the quick start</a>.</p>
</blockquote>
<h1 id="Set-Up-Your-Development-Environment"><a href="#Set-Up-Your-Development-Environment" class="headerlink" title="Set Up Your Development Environment"></a>Set Up Your Development Environment</h1><p>Before you start building your first Gatsby site, youâ€™ll need to familiarize yourself with some core web technologies and make sure that you have installed all required software tools.</p>
<h2 id="Familiarize-yourself-with-the-command-line"><a href="#Familiarize-yourself-with-the-command-line" class="headerlink" title="Familiarize yourself with the command line"></a>Familiarize yourself with the command line</h2><p>The command line is a text-based interface used to run commands on your computer. Youâ€™ll also often see it referred to as the terminal. In this tutorial, weâ€™ll use both interchangeably. Itâ€™s a lot like using the Finder on a Mac or Explorer on Windows. Finder and Explorer are examples of graphical user interfaces (GUI). The command line is a powerful, text-based way to interact with your computer.</p>
<p>Take a moment to locate and open up the command line interface (CLI) for your computer. Depending on which operating system you are using, see <a target="_blank" rel="noopener" href="http://www.macworld.co.uk/feature/mac-software/how-use-terminal-on-mac-3608274/"><strong>instructions for Mac</strong></a>, <a target="_blank" rel="noopener" href="https://www.lifewire.com/how-to-open-command-prompt-2618089"><strong>instructions for Windows</strong></a> or <a target="_blank" rel="noopener" href="https://www.howtogeek.com/140679/beginner-geek-how-to-start-using-the-linux-terminal/"><strong>instructions for Linux</strong></a>.</p>
<p>*<strong>Note:</strong> If youâ€™re new to the command line, â€œrunningâ€ a command, means â€œwriting a given set of instructions in your command prompt, and hitting the Enter keyâ€. Commands will be shown in a highlighted box, something like <code>node --version</code>, but not every highlighted box is a command! If something is a command it will be mentioned as something you have to run/execute.*</p>
<h2 id="Install-Node-js-for-your-appropriate-operating-system"><a href="#Install-Node-js-for-your-appropriate-operating-system" class="headerlink" title="Install Node.js for your appropriate operating system"></a>Install Node.js for your appropriate operating system</h2><p>Node.js is an environment that can run JavaScript code outside of a web browser. Gatsby is built with Node.js. To get up and running with Gatsby, youâ€™ll need to have a recent version installed on your computer. npm comes bundled with Node.js so if you donâ€™t have npm, chances are that you donâ€™t have Node.js either.</p>
<h3 id="Mac-instructions"><a href="#Mac-instructions" class="headerlink" title="Mac instructions"></a>Mac instructions</h3><p>To install Gatsby and Node.js on a Mac, it is recommended to use <a target="_blank" rel="noopener" href="https://brew.sh/">Homebrew</a>. A little set-up in the beginning can save you from some headaches later on!</p>
<h4 id="How-to-install-or-verify-Homebrew-on-your-computer"><a href="#How-to-install-or-verify-Homebrew-on-your-computer" class="headerlink" title="How to install or verify Homebrew on your computer:"></a>How to install or verify Homebrew on your computer:</h4><ol>
<li>Open your Terminal.</li>
<li>See if Homebrew is installed. You should see â€œHomebrewâ€ and a version number.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">brew -v</span><br></pre></td></tr></table></figure>
<ol>
<li>If not, download and install <a target="_blank" rel="noopener" href="https://docs.brew.sh/Installation">Homebrew with the instructions</a>.</li>
<li>Once youâ€™ve installed Homebrew, repeat step 2 to verify.</li>
</ol>
<h4 id="Install-Xcode-Command-Line-Tools"><a href="#Install-Xcode-Command-Line-Tools" class="headerlink" title="Install Xcode Command Line Tools:"></a>Install Xcode Command Line Tools:</h4><ol>
<li>Open your Terminal.</li>
<li>Install Xcode Command line tools by running:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">xcode-select --install</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ If that fails, download it <a target="_blank" rel="noopener" href="https://developer.apple.com/download/more/">directly from Appleâ€™s site</a>, after signing-in with an Apple developer account.</p>
</blockquote>
<ol>
<li>After being prompted to start the installation, youâ€™ll be prompted again to accept a software license for the tools to download.</li>
</ol>
<h4 id="Install-Node"><a href="#Install-Node" class="headerlink" title="Install Node"></a>Install Node</h4><ol>
<li>Open your Terminal</li>
<li>Install node with Homebrew:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">brew install node</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ If you donâ€™t want to install it through Homebrew, download the latest Node.js version from <a target="_blank" rel="noopener" href="https://nodejs.org/en/">the official Node.js website</a>, double click on the downloaded file and go through the installation process.</p>
</blockquote>
<h3 id="Windows-Instructions"><a href="#Windows-Instructions" class="headerlink" title="Windows Instructions"></a>Windows Instructions</h3><ul>
<li>Download and install the latest Node.js version from <a target="_blank" rel="noopener" href="https://nodejs.org/en/">the official Node.js website</a></li>
</ul>
<h3 id="Linux-Instructions"><a href="#Linux-Instructions" class="headerlink" title="Linux Instructions"></a>Linux Instructions</h3><p>Install nvm (Node Version Manager) and needed dependencies. nvm is used to manage Node.js and all its associated versions.</p>
<blockquote>
<p>ğŸ’¡ When installing a package, if it asks for confirmation, type <code>y</code> and press enter.</p>
</blockquote>
<p>Select your distro:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#ubuntu-debian-and-other-apt-based-distros">Ubuntu, Debian, and other apt based distros</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#arch-manjaro-and-other-pacman-based-distros">Arch, Manjaro and other pacman based distros</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#fedora-redhat-and-other-dnf-based-distros">Fedora, RedHat, and other dnf based distros</a></li>
</ul>
<blockquote>
<p>ğŸ’¡ If the Linux distribution you are using is not listed here, please find instructions on the web.</p>
</blockquote>
<h4 id="Ubuntu-Debian-and-other-apt-based-distros"><a href="#Ubuntu-Debian-and-other-apt-based-distros" class="headerlink" title="Ubuntu, Debian, and other apt based distros:"></a>Ubuntu, Debian, and other <code>apt</code> based distros:</h4><ol>
<li>Make sure your Linux distribution is ready to go run an update and an upgrade:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt -y upgrade</span><br></pre></td></tr></table></figure>
<ol>
<li>Install curl which allows you to transfer data and download additional dependencies:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get install curl</span><br></pre></td></tr></table></figure>
<ol>
<li>After it finishes installing, download the latest nvm version:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash</span><br></pre></td></tr></table></figure>
<ol>
<li>Confirm this has worked. The output should be a version number.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nvm --version</span><br></pre></td></tr></table></figure>
<ol>
<li>Continue with the section: <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#set-default-nodejs-version">Set default Node.js version</a></li>
</ol>
<h4 id="Arch-Manjaro-and-other-pacman-based-distros"><a href="#Arch-Manjaro-and-other-pacman-based-distros" class="headerlink" title="Arch, Manjaro and other pacman based distros:"></a>Arch, Manjaro and other <code>pacman</code> based distros:</h4><ol>
<li>Make sure your distribution is ready to go:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo pacman -Syu</span><br></pre></td></tr></table></figure>
<ol>
<li>These distros come installed with curl, so you can use that to download nvm:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash</span><br></pre></td></tr></table></figure>
<ol>
<li>Before using nvm, you need to install additional dependencies by running:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo pacman -S grep awk tar</span><br></pre></td></tr></table></figure>
<ol>
<li>Confirm this has worked. The output should be a version number.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nvm --version</span><br></pre></td></tr></table></figure>
<ol>
<li>Continue with the section: <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#set-default-nodejs-version">Set default Node.js version</a></li>
</ol>
<h4 id="Fedora-RedHat-and-other-dnf-based-distros"><a href="#Fedora-RedHat-and-other-dnf-based-distros" class="headerlink" title="Fedora, RedHat, and other dnf based distros:"></a>Fedora, RedHat, and other <code>dnf</code> based distros:</h4><ol>
<li>These distros come installed with curl, so you can use that to download nvm:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh | bash</span><br></pre></td></tr></table></figure>
<ol>
<li>Confirm this has worked. The output should be a version number.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nvm --version</span><br></pre></td></tr></table></figure>
<ol>
<li>Continue with the section: <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/#set-default-nodejs-version">Set default Node.js version</a></li>
</ol>
<h4 id="Set-default-Node-js-version"><a href="#Set-default-Node-js-version" class="headerlink" title="Set default Node.js version"></a>Set default Node.js version</h4><p>When nvm is installed, it does not default to a particular node version. Youâ€™ll need to install the version you want and give nvm instructions to use it. This example uses the version 10 release, but more recent version numbers can be used instead.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nvm install 10</span><br><span class="line">nvm use 10</span><br></pre></td></tr></table></figure>
<p>Confirm that this worked:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm --version</span><br><span class="line">node --version</span><br></pre></td></tr></table></figure>
<p>The output should look similar to the screenshot below, showing version numbers in response to the commands.</p>
<p><img src="https://www.gatsbyjs.com/static/71e043f06cc476acc6722818e647e517/f8915/01-node-npm-versions.png" alt="img"></p>
<p>Once you have followed the installation steps and you have checked everything is installed properly, you can continue to the next step.</p>
<h2 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h2><p>Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency. When you install a Gatsby â€œstarterâ€ site, Gatsby uses Git behind the scenes to download and install the required files for your starter. You will need to have Git installed to set up your first Gatsby site.</p>
<p>The steps to download and install Git depend on your operating system. Follow the guide for your system:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/install-git#mac-os-x">Install Git on macOS</a></li>
<li><a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/install-git#windows">Install Git on Windows</a></li>
<li><a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/install-git#linux">Install Git on Linux</a></li>
</ul>
<h2 id="Using-the-Gatsby-CLI"><a href="#Using-the-Gatsby-CLI" class="headerlink" title="Using the Gatsby CLI"></a>Using the Gatsby CLI</h2><p>The Gatsby CLI tool lets you quickly create new Gatsby-powered sites and run commands for developing Gatsby sites. It is a published npm package.</p>
<p>The Gatsby CLI is available via npm and should be installed globally by running:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install -g gatsby-cli</span><br></pre></td></tr></table></figure>
<p>*<strong>Note</strong>: when you install Gatsby and run it for the first time, youâ€™ll see a short message notifying you about anonymous usage data that is being collected for Gatsby commands, you can read more about how that data is pulled out and used in the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/telemetry">telemetry doc</a>.*</p>
<p>See the available commands:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby --help</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/fac15c37d0c4e262ae8a3e4dcdf9251f/748f4/05-gatsby-help.png"><img src="https://www.gatsbyjs.com/static/fac15c37d0c4e262ae8a3e4dcdf9251f/748f4/05-gatsby-help.png" alt="Check gatsby commands in terminal"></a></p>
<blockquote>
<p>ğŸ’¡ If you are unable to successfully run the Gatsby CLI due to a permissions issue, you may want to check out the <a target="_blank" rel="noopener" href="https://docs.npmjs.com/getting-started/fixing-npm-permissions">npm docs on fixing permissions</a>, or <a target="_blank" rel="noopener" href="https://github.com/sindresorhus/guides/blob/master/npm-global-without-sudo.md">this guide</a>.</p>
</blockquote>
<h2 id="Create-a-Gatsby-site"><a href="#Create-a-Gatsby-site" class="headerlink" title="Create a Gatsby site"></a>Create a Gatsby site</h2><p>Now you are ready to use the Gatsby CLI tool to create your first Gatsby site. Using the tool, you can download â€œstartersâ€ (partially built sites with some default configuration) to help you get moving faster on creating a certain type of site. The â€œHello Worldâ€ starter youâ€™ll be using here is a starter with the bare essentials needed for a Gatsby site.</p>
<ol>
<li>Open up your terminal.</li>
<li>Create a new site from a starter:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ What happened?</p>
<ul>
<li><code>new</code> is a gatsby command to create a new Gatsby project.</li>
<li>Here, <code>hello-world</code> is an arbitrary title â€” you could pick anything. The CLI tool will place the code for your new site in a new folder called â€œhello-worldâ€.</li>
<li>Lastly, the GitHub URL specified points to a code repository that holds the starter code you want to use.</li>
</ul>
</blockquote>
<blockquote>
<p>ğŸ’¡ Depending on your download speed, the amount of time this takes will vary. For brevityâ€™s sake, the gif below was paused during part of the install</p>
</blockquote>
<ol>
<li>Change into the working directory:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd hello-world</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ This says <em>â€˜I want to change directories (<code>cd</code>) to the â€œhello-worldâ€ subfolderâ€™</em>. Whenever you want to run any commands for your site, you need to be in the context for that site (aka, your terminal needs to be pointed at the directory where your site code lives).</p>
</blockquote>
<ol>
<li>Start the development mode:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby develop</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ This command starts a development server. You will be able to see and interact with your new site in a development environment â€” local (on your computer, not published to the internet).</p>
</blockquote>
<p><video controls="" autoplay="" loop="" style="box-sizing: inherit; display: inline-block; width: 702px; margin-bottom: 1.5rem;"></video></p>
<h3 id="View-your-site-locally"><a href="#View-your-site-locally" class="headerlink" title="View your site locally"></a>View your site locally</h3><p>Open up a new tab in your browser and navigate to <code>http://localhost:8000/</code></p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/057f454229859b1752c44dba1580984e/a8c87/04-home-page.png"><img src="https://www.gatsbyjs.com/static/057f454229859b1752c44dba1580984e/321ea/04-home-page.png" alt="Check homepage"></a></p>
<p>Congrats! This is the beginning of your very first Gatsby site! ğŸ‰</p>
<p>Youâ€™ll be able to visit the site locally at <code>http://localhost:8000/</code> for as long as your development server is running. Thatâ€™s the process you started by running the <code>gatsby develop</code> command. To stop running that process (or to â€œstop running the development serverâ€), go back to your terminal window, hold down the â€œcontrolâ€ key, and then hit â€œcâ€ (ctrl-c). To start it again, run <code>gatsby develop</code> again!</p>
<p>*<strong>Note:</strong> If you are using VM setup like <code>vagrant</code> and/or would like to listen on your local IP address, run <code>gatsby develop --host=0.0.0.0</code>. Now, the development server listens on both <code>http://localhost</code> and your local IP.*</p>
<h2 id="Set-up-a-code-editor"><a href="#Set-up-a-code-editor" class="headerlink" title="Set up a code editor"></a>Set up a code editor</h2><p>A code editor is a program designed specifically for editing computer code. There are many great ones out there.</p>
<h3 id="Download-VS-Code"><a href="#Download-VS-Code" class="headerlink" title="Download VS Code"></a>Download VS Code</h3><p>Gatsby documentation sometimes includes screenshots that were taken in VS Code, so if you donâ€™t have a preferred code editor yet, using VS Code will make sure that your screen looks like the screenshots in the tutorial and docs. If you choose to use VS Code, visit the <a target="_blank" rel="noopener" href="https://code.visualstudio.com/#alt-downloads">VS Code site</a> and download the version appropriate for your platform.</p>
<h3 id="Install-the-Prettier-plugin"><a href="#Install-the-Prettier-plugin" class="headerlink" title="Install the Prettier plugin"></a>Install the Prettier plugin</h3><p>We also recommend using <a target="_blank" rel="noopener" href="https://github.com/prettier/prettier">Prettier</a>, a tool that helps format your code to avoid errors.</p>
<p>You can use Prettier directly in your editor using the <a target="_blank" rel="noopener" href="https://github.com/prettier/prettier-vscode">Prettier VS Code plugin</a>:</p>
<ol>
<li>Open the extensions view on VS Code (View =&gt; Extensions).</li>
<li>Search for â€œPrettier - Code formatterâ€.</li>
<li>Click â€œInstallâ€. (After installation, youâ€™ll be prompted to restart VS Code to enable the extension. Newer versions of VS Code will automatically enable the extension after download.)</li>
</ol>
<blockquote>
<p>ğŸ’¡ If youâ€™re not using VS Code, check out the Prettier docs for <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/install.html">install instructions</a> or <a target="_blank" rel="noopener" href="https://prettier.io/docs/en/editors.html">other editor integrations</a>.</p>
</blockquote>
<h2 id="â¡ï¸-Whatâ€™s-Next"><a href="#â¡ï¸-Whatâ€™s-Next" class="headerlink" title="â¡ï¸ Whatâ€™s Next?"></a>â¡ï¸ Whatâ€™s Next?</h2><p>To summarize, in this section you:</p>
<ul>
<li>Learned about the command line and how to use it</li>
<li>Installed and learned about Node.js and the npm CLI tool, the version control system Git, and the Gatsby CLI tool</li>
<li>Generated a new Gatsby site using the Gatsby CLI tool</li>
<li>Ran the Gatsby development server and visited your site locally</li>
<li>Downloaded a code editor</li>
<li>Installed a code formatter called Prettier</li>
</ul>
<p>Now, move on to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-one/"><strong>getting to know Gatsby building blocks</strong></a>.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><h3 id="Overview-of-core-technologies"><a href="#Overview-of-core-technologies" class="headerlink" title="Overview of core technologies"></a>Overview of core technologies</h3><p>Itâ€™s not necessary to be an expert with these already â€” if youâ€™re not, donâ€™t worry! Youâ€™ll pick up a lot through the course of this tutorial series. These are some of the main web technologies youâ€™ll use when building a Gatsby site:</p>
<ul>
<li><strong>HTML</strong>: A markup language that every web browser is able to understand. It stands for HyperText Markup Language. HTML gives your web content a universal informational structure, defining things like headings, paragraphs, and more.</li>
<li><strong>CSS</strong>: A presentational language used to style the appearance of your web content (fonts, colors, layout, etc). It stands for Cascading Style Sheets.</li>
<li><strong>JavaScript</strong>: A programming language that helps us make the web dynamic and interactive.</li>
<li><strong>React</strong>: A code library (built with JavaScript) for building user interfaces. Itâ€™s the framework that Gatsby uses to build pages and structure content.</li>
<li><strong>GraphQL</strong>: A query language that allows you to pull data into your website. Itâ€™s the interface that Gatsby uses for managing site data.</li>
</ul>
<h3 id="What-is-a-website"><a href="#What-is-a-website" class="headerlink" title="What is a website?"></a>What is a website?</h3><p>For a comprehensive introduction to what a website is â€” including an intro to HTML and CSS â€” check out â€œ<a target="_blank" rel="noopener" href="https://learn.shayhowe.com/html-css/building-your-first-web-page/"><strong>Building your first web page</strong></a>â€. Itâ€™s a great place to start learning about the web. For a more hands-on introduction to <a target="_blank" rel="noopener" href="https://www.codecademy.com/learn/learn-html"><strong>HTML</strong></a>, <a target="_blank" rel="noopener" href="https://www.codecademy.com/learn/learn-css"><strong>CSS</strong></a>, and <a target="_blank" rel="noopener" href="https://www.codecademy.com/learn/introduction-to-javascript"><strong>JavaScript</strong></a>, check out the tutorials from Codecademy. <a target="_blank" rel="noopener" href="https://reactjs.org/tutorial/tutorial.html"><strong>React</strong></a> and <a target="_blank" rel="noopener" href="https://graphql.org/graphql-js/"><strong>GraphQL</strong></a> also have their own introductory tutorials.</p>
<h3 id="Learn-more-about-the-command-line"><a href="#Learn-more-about-the-command-line" class="headerlink" title="Learn more about the command line"></a>Learn more about the command line</h3><p>For a great introduction to using the command line, check out <a target="_blank" rel="noopener" href="https://www.codecademy.com/courses/learn-the-command-line/lessons/navigation/exercises/your-first-command"><strong>Codecademyâ€™s Command Line tutorial</strong></a> for Mac and Linux users, and <a target="_blank" rel="noopener" href="https://www.computerhope.com/issues/chusedos.htm"><strong>this tutorial</strong></a> for Windows users. Even if you are a Windows user, the first page of the Codecademy tutorial is a valuable read. It explains what the command line is, not how to interface with it.</p>
<h3 id="Learn-more-about-npm"><a href="#Learn-more-about-npm" class="headerlink" title="Learn more about npm"></a>Learn more about npm</h3><p>npm is a JavaScript package manager. A package is a module of code that you can choose to include in your projects. If you downloaded and installed Node.js, npm was installed with it!</p>
<p>npm has three distinct components: the npm website, the npm registry, and the npm command line interface (CLI).</p>
<ul>
<li>On the npm website, you can browse what JavaScript packages are available in the npm registry.</li>
<li>The npm registry is a large database of information about JavaScript packages available on npm.</li>
<li>Once youâ€™ve identified a package you want, you can use the npm CLI to install it in your project or globally (like other CLI tools). The npm CLI is what talks to the registry â€” you generally only interact with the npm website or the npm CLI.</li>
</ul>
<blockquote>
<p>ğŸ’¡ Check out npmâ€™s introduction, â€œ<a target="_blank" rel="noopener" href="https://docs.npmjs.com/getting-started/what-is-npm"><strong>What is npm?</strong></a>â€.</p>
</blockquote>
<h3 id="Learn-more-about-Git"><a href="#Learn-more-about-Git" class="headerlink" title="Learn more about Git"></a>Learn more about Git</h3><p>You will not need to know Git to complete this tutorial, but it is a very useful tool. If you are interested in learning more about version control, Git, and GitHub, check out GitHubâ€™s <a target="_blank" rel="noopener" href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a>.</p>
<h1 id="Get-to-Know-Gatsby-Building-Blocks"><a href="#Get-to-Know-Gatsby-Building-Blocks" class="headerlink" title="Get to Know Gatsby Building Blocks"></a>Get to Know Gatsby Building Blocks</h1><p>In the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/"><strong>previous section</strong></a>, you prepared your local development environment by installing the necessary software and creating your first Gatsby site using the <a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby-starter-hello-world"><strong>â€œhello worldâ€ starter</strong></a>. Now, take a deeper dive into the code generated by that starter.</p>
<h2 id="Using-Gatsby-starters"><a href="#Using-Gatsby-starters" class="headerlink" title="Using Gatsby starters"></a>Using Gatsby starters</h2><p>In <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-zero/"><strong>tutorial part zero</strong></a>, you created a new site based on the â€œhello worldâ€ starter using the following command:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world</span><br></pre></td></tr></table></figure>
<p>When creating a new Gatsby site, you can use the following command structure to create a new site based on any existing Gatsby starter:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new [SITE_DIRECTORY_NAME] [URL_OF_STARTER_GITHUB_REPO]</span><br></pre></td></tr></table></figure>
<p>If you omit a URL from the end, Gatsby will automatically generate a site for you based on the <a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby-starter-default"><strong>default starter</strong></a>. For this section of the tutorial, stick with the â€œHello Worldâ€ site you already created in tutorial part zero. You can learn more about <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/modifying-a-starter">modifying starters</a> in the docs.</p>
<h3 id="âœ‹-Open-up-the-code"><a href="#âœ‹-Open-up-the-code" class="headerlink" title="âœ‹ Open up the code"></a>âœ‹ Open up the code</h3><p>In your code editor, open up the code generated for your â€œHello Worldâ€ site and take a look at the different directories and files contained in the â€˜hello-worldâ€™ directory. It should look something like this:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/6fd22a2eaed057cc2692ac3a86404864/cab8c/01-hello-world-vscode.png"><img src="https://www.gatsbyjs.com/static/6fd22a2eaed057cc2692ac3a86404864/cab8c/01-hello-world-vscode.png" alt="Hello World project in VS Code"></a></p>
<p><em>Note: Again, the editor shown here is Visual Studio Code. If youâ€™re using a different editor, it will look a little different.</em></p>
<p>Letâ€™s take a look at the code that powers the homepage.</p>
<blockquote>
<p>ğŸ’¡ If you stopped your development server after running <code>gatsby develop</code> in the previous section, start it up again now â€” time to make some changes to the hello-world site!</p>
</blockquote>
<h2 id="Familiarizing-with-Gatsby-pages"><a href="#Familiarizing-with-Gatsby-pages" class="headerlink" title="Familiarizing with Gatsby pages"></a>Familiarizing with Gatsby pages</h2><p>Open up the <code>/src</code> directory in your code editor. Inside is a single directory: <code>/pages</code>.</p>
<p>Open the file at <code>src/pages/index.js</code>. The code in this file creates a component that contains a single div and some text â€” appropriately, â€œHello world!â€</p>
<h3 id="âœ‹-Make-changes-to-the-â€œHello-Worldâ€-homepage"><a href="#âœ‹-Make-changes-to-the-â€œHello-Worldâ€-homepage" class="headerlink" title="âœ‹ Make changes to the â€œHello Worldâ€ homepage"></a>âœ‹ Make changes to the â€œHello Worldâ€ homepage</h3><ol>
<li>Change the â€œHello World!â€ text to â€œHello Gatsby!â€ and save the file. If your windows are side-by-side, you can see that your code and content changes are reflected almost instantly in the browser after you save the file.</li>
</ol>
<p><video controls="" autoplay="" loop="" style="box-sizing: inherit; display: inline-block; width: 702px; margin-bottom: 1.5rem;"></video></p>
<blockquote>
<p>ğŸ’¡ Gatsby uses <strong>hot reloading</strong> to speed up your development process. Essentially, when youâ€™re running a Gatsby development server, the Gatsby site files are being â€œwatchedâ€ in the background â€” any time you save a file, your changes will be immediately reflected in the browser. You donâ€™t need to hard refresh the page or restart the development server â€” your changes just appear.</p>
</blockquote>
<ol>
<li>Now you can make your changes a little more visible. Try replacing the code in <code>src/pages/index.js</code> with the code below and save again. Youâ€™ll see changes to the text â€” the text color will be purple and the font size will be larger.</li>
</ol>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> `<span class="attr">purple</span>`, <span class="attr">fontSize:</span> `<span class="attr">72px</span>` &#125;&#125;&gt;</span>Hello Gatsby!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ Weâ€™ll be covering more about styling in Gatsby in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-two/"><strong>part two</strong></a> of the tutorial.</p>
</blockquote>
<ol>
<li>Remove the font size styling, change the â€œHello Gatsby!â€ text to a level-one header, and add a paragraph beneath the header.</li>
</ol>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`purple`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;h1&gt;Hello Gatsby!&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;What a world.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/738f82e862eca8d878d19de628291f67/6fcb6/03-more-hot-reloading.png"><img src="https://www.gatsbyjs.com/static/738f82e862eca8d878d19de628291f67/321ea/03-more-hot-reloading.png" alt="More changes with hot reloading"></a></p>
<ol>
<li>Add an image. (In this case, a random image from Unsplash).</li>
</ol>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`purple`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;h1&gt;Hello Gatsby!&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;What a world.&lt;/p&gt;</span><br><span class="line">      &lt;img src=<span class="string">&quot;https://source.unsplash.com/random/400x200&quot;</span> alt=<span class="string">&quot;&quot;</span> /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/ae64a18bc63a9713d0a88f2570abe0dc/891d5/04-add-image.png"><img src="https://www.gatsbyjs.com/static/ae64a18bc63a9713d0a88f2570abe0dc/321ea/04-add-image.png" alt="Add image"></a></p>
<h3 id="Waitâ€¦-HTML-in-our-JavaScript"><a href="#Waitâ€¦-HTML-in-our-JavaScript" class="headerlink" title="Waitâ€¦ HTML in our JavaScript?"></a>Waitâ€¦ HTML in our JavaScript?</h3><p><em>If youâ€™re familiar with React and JSX, feel free to skip this section.</em> If you havenâ€™t worked with the React framework before, you may be wondering what HTML is doing in a JavaScript function. Or why weâ€™re importing <code>react</code> on the first line but seemingly not using it anywhere. This hybrid â€œHTML-in-JSâ€ is actually a syntax extension of JavaScript, for React, called JSX. You can follow along with this tutorial without prior experience with React, but if youâ€™re curious, hereâ€™s a brief primerâ€¦</p>
<p>Consider the original contents of the <code>src/pages/index.js</code> file:</p>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In pure JavaScript, it looks more like this:</p>
<p>src/pages/index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> React.createElement(<span class="string">&quot;div&quot;</span>, <span class="literal">null</span>, <span class="string">&quot;Hello world!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now you can spot the use of the <code>&#39;react&#39;</code> import! But wait. Youâ€™re writing JSX, not pure HTML and JavaScript. How does the browser read that? The short answer: It doesnâ€™t. Gatsby sites come with tooling already set up to convert your source code into something that browsers can interpret.</p>
<h2 id="Building-with-components"><a href="#Building-with-components" class="headerlink" title="Building with components"></a>Building with components</h2><p>The homepage you were just making edits to was created by defining a page component. What exactly is a â€œcomponentâ€?</p>
<p>Broadly defined, a component is a building block for your site; It is a self-contained piece of code that describes a section of UI (user interface).</p>
<p>Gatsby is built on React. When we talk about using and defining <strong>components</strong>, we are really talking about <strong>React components</strong> â€” self-contained pieces of code (usually written with JSX) that can accept input and return React elements describing a section of UI.</p>
<p>One of the big mental shifts you make when starting to build with components (if you are already a developer) is that now your CSS, HTML, and JavaScript are tightly coupled and often living even within the same file.</p>
<p>While a seemingly simple change, this has profound implications for how you think about building websites.</p>
<p>Take the example of creating a custom button. In the past, you would create a CSS class (perhaps <code>.primary-button</code>) with your custom styles and then use it whenever you want to apply those styles. For example:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;primary-button&quot;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the world of components, you instead create a <code>PrimaryButton</code> component with your button styles and use it throughout your site like:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;PrimaryButton&gt;Click me&lt;/PrimaryButton&gt;</span><br></pre></td></tr></table></figure>
<p>Components become the base building blocks of your site. Instead of being limited to the building blocks the browser provides, e.g. <code>&lt;button /&gt;</code>, you can easily create new building blocks that elegantly meet the needs of your projects.</p>
<h3 id="âœ‹-Using-page-components"><a href="#âœ‹-Using-page-components" class="headerlink" title="âœ‹ Using page components"></a>âœ‹ Using page components</h3><p>Any React component defined in <code>src/pages/*.js</code> will automatically become a page. Letâ€™s see this in action.</p>
<p>You already have a <code>src/pages/index.js</code> file that came with the â€œHello Worldâ€ starter. Letâ€™s create an about page.</p>
<ol>
<li>Create a new file at <code>src/pages/about.js</code>, copy the following code into the new file, and save.</li>
</ol>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`teal`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;h1&gt;About Gatsby&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;Such wow. Very React.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>Navigate to <code>http://localhost:8000/about/</code></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/ff70fd3cbfd3a0e931b899ca245322fc/f1d1f/05-about-page.png"><img src="https://www.gatsbyjs.com/static/ff70fd3cbfd3a0e931b899ca245322fc/f1d1f/05-about-page.png" alt="New about page"></a></p>
<p>Just by putting a React component in the <code>src/pages/about.js</code> file, you now have a page accessible at <code>/about</code>.</p>
<h3 id="âœ‹-Using-sub-components"><a href="#âœ‹-Using-sub-components" class="headerlink" title="âœ‹ Using sub-components"></a>âœ‹ Using sub-components</h3><p>Letâ€™s say the homepage and the about page both got quite large and you were rewriting a lot of things. You can use sub-components to break the UI into reusable pieces. Both of your pages have <code>&lt;h1&gt;</code> headers â€” create a component that will describe a <code>Header</code>.</p>
<ol>
<li>Create a new directory at <code>src/components</code> and a file within that directory called <code>header.js</code>.</li>
<li>Add the following code to the new <code>src/components/header.js</code> file.</li>
</ol>
<p>src/components/header.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/header.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Header</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is a header.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>Modify the <code>about.js</code> file to import the <code>Header</code> component. Replace the <code>h1</code> markup with <code>&lt;Header /&gt;</code>:</li>
</ol>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`teal`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;Header /&gt;</span><br><span class="line">      &lt;p&gt;Such wow. Very React.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/ff64a1f15ebbe5e1f1aad740d0686ff7/fb4e7/06-header-component.png"><img src="https://www.gatsbyjs.com/static/ff64a1f15ebbe5e1f1aad740d0686ff7/321ea/06-header-component.png" alt="Adding Header component"></a></p>
<p>In the browser, the â€œAbout Gatsbyâ€ header text should now be replaced with â€œThis is a header.â€ But you donâ€™t want the â€œAboutâ€ page to say â€œThis is a header.â€ You want it to say, â€œAbout Gatsbyâ€.</p>
<ol>
<li>Head back to <code>src/components/header.js</code> and make the following change:</li>
</ol>
<p>src/components/header.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/header.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Header</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;props.headerText&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>Head back to <code>src/pages/about.js</code> and make the following change:</li>
</ol>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`teal`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;Header headerText=<span class="string">&quot;About Gatsby&quot;</span> /&gt;</span><br><span class="line">      &lt;p&gt;Such wow. Very React.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/a7da09d0252e86518be87c3608bb1c85/f2b95/07-pass-data-header.png"><img src="https://www.gatsbyjs.com/static/a7da09d0252e86518be87c3608bb1c85/321ea/07-pass-data-header.png" alt="Passing data to header"></a></p>
<p>You should now see your â€œAbout Gatsbyâ€ header text again!</p>
<h3 id="What-are-â€œpropsâ€"><a href="#What-are-â€œpropsâ€" class="headerlink" title="What are â€œpropsâ€?"></a>What are â€œpropsâ€?</h3><p>Earlier, you defined React components as reusable pieces of code describing a UI. To make these reusable pieces dynamic you need to be able to supply them with different data. You do that with input called â€œpropsâ€. Props are (appropriately enough) properties supplied to React components.</p>
<p>In <code>about.js</code> you passed a <code>headerText</code> prop with the value of <code>&quot;About Gatsby&quot;</code> to the imported <code>Header</code> sub-component:</p>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line">&lt;Header headerText=<span class="string">&quot;About Gatsby&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>Over in <code>header.js</code>, the header component expects to receive the <code>headerText</code> prop (because youâ€™ve written it to expect that). So you can access it like so:</p>
<p>src/components/header.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/header.js: copy code to clipboard</span><br><span class="line">&lt;h1&gt;&#123;props.headerText&#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ In JSX, you can embed any JavaScript expression by wrapping it with <code>&#123;&#125;</code>. This is how you can access the <code>headerText</code> property (or â€œprop!â€) from the â€œpropsâ€ object.</p>
</blockquote>
<p>If you had passed another prop to your <code>&lt;Header /&gt;</code> component, like soâ€¦</p>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line">&lt;Header headerText=<span class="string">&quot;About Gatsby&quot;</span> arbitraryPhrase=<span class="string">&quot;is arbitrary&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>
<p>â€¦you would have been able to also access the <code>arbitraryPhrase</code> prop: <code>&#123;props.arbitraryPhrase&#125;</code>.</p>
<ol>
<li>To emphasize how this makes your components reusable, add an extra <code>&lt;Header /&gt;</code> component to the about page, add the following code to the <code>src/pages/about.js</code> file, and save.</li>
</ol>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`teal`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;Header headerText=<span class="string">&quot;About Gatsby&quot;</span> /&gt;</span><br><span class="line">      &lt;Header headerText=<span class="string">&quot;It&#x27;s pretty cool&quot;</span> /&gt;</span><br><span class="line">      &lt;p&gt;Such wow. Very React.&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/439851d3a4ba8a727b4c07abefce54a9/891d5/08-duplicate-header.png"><img src="https://www.gatsbyjs.com/static/439851d3a4ba8a727b4c07abefce54a9/321ea/08-duplicate-header.png" alt="Duplicate header to show reusability"></a></p>
<p>And there you have it; A second header â€” without rewriting any code â€” by passing different data using props.</p>
<h3 id="Using-layout-components"><a href="#Using-layout-components" class="headerlink" title="Using layout components"></a>Using layout components</h3><p>Layout components are for sections of a site that you want to share across multiple pages. For example, Gatsby sites will commonly have a layout component with a shared header and footer. Other common things to add to layouts include a sidebar and/or a navigation menu.</p>
<p>Youâ€™ll explore layout components in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-three/"><strong>part three</strong></a>.</p>
<h2 id="Linking-between-pages"><a href="#Linking-between-pages" class="headerlink" title="Linking between pages"></a>Linking between pages</h2><p>Youâ€™ll often want to link between pages â€” Letâ€™s look at routing in a Gatsby site.</p>
<h3 id="âœ‹-Using-the-lt-Link-gt-component"><a href="#âœ‹-Using-the-lt-Link-gt-component" class="headerlink" title="âœ‹ Using the &lt;Link /&gt; component"></a>âœ‹ Using the <code>&lt;Link /&gt;</code> component</h3><ol>
<li>Open the index page component (<code>src/pages/index.js</code>), import the <code>&lt;Link /&gt;</code> component from Gatsby, add a <code>&lt;Link /&gt;</code> component above the header, and give it a <code>to</code> property with the value of <code>&quot;/contact/&quot;</code> for the pathname:</li>
</ol>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`purple`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;Link to=<span class="string">&quot;/contact/&quot;</span>&gt;Contact&lt;/Link&gt;</span><br><span class="line">      &lt;Header headerText=<span class="string">&quot;Hello Gatsby!&quot;</span> /&gt;</span><br><span class="line">      &lt;p&gt;What a world.&lt;/p&gt;</span><br><span class="line">      &lt;img src=<span class="string">&quot;https://source.unsplash.com/random/400x200&quot;</span> alt=<span class="string">&quot;&quot;</span> /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>When you click the new â€œContactâ€ link on the homepage, you should seeâ€¦</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/5b621cd422b1ccc1181808580a57dd32/6bbf7/09-dev-404.png"><img src="https://www.gatsbyjs.com/static/5b621cd422b1ccc1181808580a57dd32/6bbf7/09-dev-404.png" alt="Gatsby dev 404 page"></a></p>
<p>â€¦the Gatsby development 404 page. Why? Because youâ€™re attempting to link to a page that doesnâ€™t exist yet.</p>
<ol>
<li>Now youâ€™ll have to create a page component for your new â€œContactâ€ page at <code>src/pages/contact.js</code> and have it link back to the homepage:</li>
</ol>
<p>src/pages/contact.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/contact.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">&quot;../components/header&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Contact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">color</span>: <span class="string">`teal`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;Link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/Link&gt;</span><br><span class="line">      &lt;Header headerText=<span class="string">&quot;Contact&quot;</span> /&gt;</span><br><span class="line">      &lt;p&gt;Send us a message!&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>After you save the file, you should see the contact page and be able to follow the link to the homepage.</p>
<p><video controls="" loop="" style="box-sizing: inherit; display: inline-block; width: 702px; margin-bottom: 1.5rem;"></video></p>
<p>The Gatsby <code>&lt;Link /&gt;</code> component is for linking between pages within your site. For external links to pages not handled by your Gatsby site, use the regular HTML <code>&lt;a&gt;</code> tag.</p>
<h2 id="Deploying-a-Gatsby-site"><a href="#Deploying-a-Gatsby-site" class="headerlink" title="Deploying a Gatsby site"></a>Deploying a Gatsby site</h2><p>Gatsby is a <em>modern site generator</em>, which means there are no servers to set up or complicated databases to deploy. Instead, the Gatsby <code>build</code> command produces a directory of static HTML and JavaScript files which you can deploy to a static site hosting service.</p>
<p>Try using <a target="_blank" rel="noopener" href="https://surge.sh/">Surge</a> for deploying your first Gatsby website. Surge is one of many â€œstatic site hostsâ€ which makes it possible to deploy Gatsby sites.</p>
<blockquote>
<p>Gatsby Cloud is another deployment option, built by the team behind Gatsby. In the next section, youâ€™ll find instructions for <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-one/#alternative-deploying-to-gatsby-cloud">deploying to Gatsby Cloud</a>.</p>
</blockquote>
<p>If you havenâ€™t previously installed &amp; set up Surge, open a new terminal window and install their command-line tool:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install --global surge</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Then create a (free) account with them</span></span><br><span class="line">surge login</span><br></pre></td></tr></table></figure>
<p>Next, build your site by running the following command in the terminal at the root of your site (tip: make sure youâ€™re running this command at the root of your site, in this case in the hello-world folder, which you can do by opening a new tab in the same window you used to run <code>gatsby develop</code>):</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby build</span><br></pre></td></tr></table></figure>
<p>The build should take 15-30 seconds. Once the build is finished, itâ€™s interesting to take a look at the files that the <code>gatsby build</code> command just prepared to deploy.</p>
<p>Take a look at a list of the generated files by typing in the following terminal command into the root of your site, which will let you look at the <code>public</code> directory:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ls public</span><br></pre></td></tr></table></figure>
<p>Then finally deploy your site by publishing the generated files to surge.sh. For newly-created surge account, you need to verify your email with surge before publishing your site (check your inbox first and verify your email).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">surge public/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note that you will have to press the <code>enter</code> key after you see the <code>domain: some-name.surge.sh</code> information on your command-line interface.</p>
</blockquote>
<p>Once this finishes running, you should see in your terminal something like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/2718feec8167496f9e7a5087a5f539e7/f32b7/surge-deployment.png"><img src="https://www.gatsbyjs.com/static/2718feec8167496f9e7a5087a5f539e7/321ea/surge-deployment.png" alt="Screenshot of publishing Gatsby site with Surge"></a></p>
<p>Open the web address listed on the bottom line (<code>lowly-pain.surge.sh</code> in this case) and youâ€™ll see your newly published site! Great work!</p>
<h3 id="Alternative-Deploying-to-Gatsby-Cloud"><a href="#Alternative-Deploying-to-Gatsby-Cloud" class="headerlink" title="Alternative: Deploying to Gatsby Cloud"></a>Alternative: Deploying to Gatsby Cloud</h3><p><a target="_blank" rel="noopener" href="https://gatsbyjs.com/">Gatsby Cloud</a> is a platform built specifically for Gatsby sites, with features like real-time previews, fast builds, and integrations with dozens of other tools. Itâ€™s the best place to build and deploy sites built with Gatsby, and you can use Gatsby Cloud free for personal projects.</p>
<p>To deploy your site to Gatsby Cloud, create an account on <a target="_blank" rel="noopener" href="https://github.com/">GitHub</a> if you donâ€™t have one. GitHub allows you to host and collaborate on code projects using Git for version control.</p>
<p>Create a new repository on GitHub. Since youâ€™re importing your existing project, youâ€™ll want a completely empty one, so donâ€™t initialize it with <code>README</code> or <code>.gitignore</code> files.</p>
<p>You can tell Git where the remote (i.e. not on your computer) repository is like this:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git remote add origin [GITHUB_REPOSITORY_URL]</span><br></pre></td></tr></table></figure>
<p>When you created a new Gatsby project with a starter, it automatically made an initial <code>git commit</code>, or a set of changes. Now, you can push your changes to the new remote location:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<p>Now youâ€™re ready to link this GitHub repository right to Gatsby Cloud! Check out the reference guide on <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/deploying-to-gatsby-cloud/#set-up-an-existing-gatsby-site">Deploying to Gatsby Cloud</a>.</p>
<h2 id="â¡ï¸-Whatâ€™s-Next-1"><a href="#â¡ï¸-Whatâ€™s-Next-1" class="headerlink" title="â¡ï¸ Whatâ€™s Next?"></a>â¡ï¸ Whatâ€™s Next?</h2><p>In this section you:</p>
<ul>
<li>Learned about Gatsby starters, and how to use them to create new projects</li>
<li>Learned about JSX syntax</li>
<li>Learned about components</li>
<li>Learned about Gatsby page components and sub-components</li>
<li>Learned about React â€œpropsâ€ and reusing React components</li>
</ul>
<p>Now, move on to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-two/"><strong>adding styles to your site</strong></a>!</p>
<h1 id="Introduction-to-Styling-in-Gatsby"><a href="#Introduction-to-Styling-in-Gatsby" class="headerlink" title="Introduction to Styling in Gatsby"></a>Introduction to Styling in Gatsby</h1><p>Welcome to part two of the Gatsby tutorial!</p>
<h2 id="Whatâ€™s-in-this-tutorial"><a href="#Whatâ€™s-in-this-tutorial" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>In this part, youâ€™re going to explore options for styling Gatsby websites and dive deeper into using React components for building sites.</p>
<h2 id="Using-global-styles"><a href="#Using-global-styles" class="headerlink" title="Using global styles"></a>Using global styles</h2><p>Every site has some sort of global style. This includes things like the siteâ€™s typography and background colors. These styles set the overall feel of the site â€” much like the color and texture of a wall sets the overall feel of a room.</p>
<h3 id="Creating-global-styles-with-standard-CSS-files"><a href="#Creating-global-styles-with-standard-CSS-files" class="headerlink" title="Creating global styles with standard CSS files"></a>Creating global styles with standard CSS files</h3><p>One of the most straightforward ways to add global styles to a site is using a global <code>.css</code> stylesheet.</p>
<h4 id="âœ‹-Create-a-new-Gatsby-site"><a href="#âœ‹-Create-a-new-Gatsby-site" class="headerlink" title="âœ‹ Create a new Gatsby site"></a>âœ‹ Create a new Gatsby site</h4><p>Start by creating a new Gatsby site. It may be best (especially if youâ€™re new to the command line) to close the terminal windows you used for <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-one/">part one</a> and start a new terminal session for part two.</p>
<p>Open a new terminal window, create a new â€œhello worldâ€ Gatsby site in a directory called <code>tutorial-part-two</code>, and then move to this new directory:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new tutorial-part-two https://github.com/gatsbyjs/gatsby-starter-hello-world</span><br><span class="line">cd tutorial-part-two</span><br></pre></td></tr></table></figure>
<p>You now have a new Gatsby site (based on the Gatsby â€œhello worldâ€ starter) with the following structure:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â””â”€â”€ pages</span><br><span class="line">â”‚       â””â”€â”€ index.js</span><br></pre></td></tr></table></figure>
<h4 id="âœ‹-Add-styles-to-a-CSS-file"><a href="#âœ‹-Add-styles-to-a-CSS-file" class="headerlink" title="âœ‹ Add styles to a CSS file"></a>âœ‹ Add styles to a CSS file</h4><ol>
<li>Create a <code>.css</code> file in your new project:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd src</span><br><span class="line">mkdir styles</span><br><span class="line">cd styles</span><br><span class="line">touch global.css</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: Feel free to create these directories and files using your code editor, if youâ€™d prefer.</p>
</blockquote>
<p>You should now have a structure like this:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â””â”€â”€ pages</span><br><span class="line">â”‚       â””â”€â”€ index.js</span><br><span class="line">â”‚   â””â”€â”€ styles</span><br><span class="line">â”‚       â””â”€â”€ global.css</span><br></pre></td></tr></table></figure>
<ol>
<li>Define some styles in the <code>global.css</code> file:</li>
</ol>
<p>src/styles/global.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/styles/global.css: copy code to clipboard</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lavenderblush;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: The placement of the example CSS file in a <code>/src/styles/</code> folder is arbitrary.</p>
</blockquote>
<h4 id="âœ‹-Include-the-stylesheet-in-gatsby-browser-js"><a href="#âœ‹-Include-the-stylesheet-in-gatsby-browser-js" class="headerlink" title="âœ‹ Include the stylesheet in gatsby-browser.js"></a>âœ‹ Include the stylesheet in <code>gatsby-browser.js</code></h4><ol>
<li>Create the <code>gatsby-browser.js</code></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">touch gatsby-browser.js</span><br></pre></td></tr></table></figure>
<p>Your projectâ€™s file structure should now look like this:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â””â”€â”€ pages</span><br><span class="line">â”‚       â””â”€â”€ index.js</span><br><span class="line">â”‚   â””â”€â”€ styles</span><br><span class="line">â”‚       â””â”€â”€ global.css</span><br><span class="line">â”œâ”€â”€ gatsby-browser.js</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ What is <code>gatsby-browser.js</code>? Donâ€™t worry about this too much and for now, just know that <code>gatsby-browser.js</code> is one of a handful of special files that Gatsby looks for and uses (if they exist). Here, the naming of the file <strong>is</strong> important. If you do want to explore more now, check out <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/gatsby-browser/">the docs</a>.</p>
</blockquote>
<ol>
<li>Import your recently-created stylesheet in the <code>gatsby-browser.js</code> file:</li>
</ol>
<p>gatsby-browser.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-browser.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./src/styles/global.css&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// or:</span></span><br><span class="line"><span class="comment">// require(&#x27;./src/styles/global.css&#x27;)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: Both CommonJS (<code>require</code>) and ES Module (<code>import</code>) syntax work here. If youâ€™re not sure which to choose, <code>import</code> is usually a good default. When working with files that are only run in a Node.js environment however (like <code>gatsby-node.js</code>), <code>require</code> will need to be used.</p>
</blockquote>
<ol>
<li>Start the development server:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby develop</span><br></pre></td></tr></table></figure>
<p>If you take a look at your project in the browser, you should see a lavender background applied to the â€œhello worldâ€ starter:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/4ddb5fc342a06be749f8a14b86b1edc2/6f278/global-css.png"><img src="https://www.gatsbyjs.com/static/4ddb5fc342a06be749f8a14b86b1edc2/321ea/global-css.png" alt="Lavender Hello World!"></a></p>
<blockquote>
<p>Tip: This part of the tutorial has focused on the quickest and most straightforward way to get started styling a Gatsby site â€” importing standard CSS files directly, using <code>gatsby-browser.js</code>. In most cases, the best way to add global styles is with a shared layout component. <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/styling/global-css/">Check out the docs</a> for more on that approach.</p>
</blockquote>
<h2 id="Using-component-scoped-CSS"><a href="#Using-component-scoped-CSS" class="headerlink" title="Using component-scoped CSS"></a>Using component-scoped CSS</h2><p>So far, weâ€™ve talked about the more traditional approach of using standard CSS stylesheets. Now, weâ€™ll talk about various methods of modularizing CSS to tackle styling in a component-oriented way.</p>
<h3 id="CSS-Modules"><a href="#CSS-Modules" class="headerlink" title="CSS Modules"></a>CSS Modules</h3><p>Letâ€™s explore <strong>CSS Modules</strong>. Quoting from <a target="_blank" rel="noopener" href="https://github.com/css-modules/css-modules">the CSS Module homepage</a>:</p>
<blockquote>
<p>A <strong>CSS Module</strong> is a CSS file in which all class names and animation names are scoped locally by default.</p>
</blockquote>
<p>CSS Modules are very popular because they let you write CSS normally but with a lot more safety. The tool automatically generates unique class and animation names, so you donâ€™t have to worry about selector name collisions.</p>
<p>Gatsby works out of the box with CSS Modules. This approach is highly recommended for those new to building with Gatsby (and React in general).</p>
<h4 id="âœ‹-Build-a-new-page-using-CSS-Modules"><a href="#âœ‹-Build-a-new-page-using-CSS-Modules" class="headerlink" title="âœ‹ Build a new page using CSS Modules"></a>âœ‹ Build a new page using CSS Modules</h4><p>In this section, youâ€™ll create a new page component and style that page component using a CSS Module.</p>
<p>First, create a new <code>Container</code> component.</p>
<ol>
<li>Create a new directory at <code>src/components</code> and then, in this new directory, create a file named <code>container.js</code> and paste the following:</li>
</ol>
<p>src/components/container.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/container.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> containerStyles <span class="keyword">from</span> <span class="string">&quot;./container.module.css&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Container</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;containerStyles.container&#125;</span>&gt;</span>&#123;children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Youâ€™ll notice you imported a CSS module file named <code>container.module.css</code>. Letâ€™s create that file now.</p>
<ol>
<li>In the same directory (<code>src/components</code>), create a <code>container.module.css</code> file and copy/paste the following:</li>
</ol>
<p>src/components/container.module.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/container.module.css: copy code to clipboard</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3rem</span> auto;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">600px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Youâ€™ll notice that the file name ends with <code>.module.css</code> instead of the usual <code>.css</code>. This is how you tell Gatsby that this CSS file should be processed as a CSS module rather than plain CSS.</p>
<ol>
<li>Create a new page component by creating a file at <code>src/pages/about-css-modules.js</code>:</li>
</ol>
<p>src/pages/about-css-modules.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about-css-modules.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Container <span class="keyword">from</span> <span class="string">&quot;../components/container&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Container&gt;</span><br><span class="line">      &lt;h1&gt;About CSS Modules&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;CSS Modules are cool&lt;/p&gt;</span><br><span class="line">    &lt;/Container&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now, if you visit <code>http://localhost:8000/about-css-modules/</code>, your page should look something like this:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/e5678fdf693c054d7f09cbc69be85567/0f586/css-modules-basic.png"><img src="https://www.gatsbyjs.com/static/e5678fdf693c054d7f09cbc69be85567/321ea/css-modules-basic.png" alt="Page with CSS module styles"></a></p>
<h4 id="âœ‹-Style-a-component-using-CSS-Modules"><a href="#âœ‹-Style-a-component-using-CSS-Modules" class="headerlink" title="âœ‹ Style a component using CSS Modules"></a>âœ‹ Style a component using CSS Modules</h4><p>In this section, youâ€™ll create a list of people with names, avatars, and short Latin biographies. Youâ€™ll create a <code>&lt;User /&gt;</code> component and style that component using a CSS module.</p>
<ol>
<li>Create the file for the CSS at <code>src/pages/about-css-modules.module.css</code>.</li>
<li>Paste the following into the new file:</li>
</ol>
<p>src/pages/about-css-modules.module.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about-css-modules.module.css: copy code to clipboard</span><br><span class="line"><span class="selector-class">.user</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">12px</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.user</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">96px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">96px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.description</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.username</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.excerpt</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>Import the new <code>src/pages/about-css-modules.module.css</code> file into the <code>about-css-modules.js</code> page you created earlier by editing the first few lines of the file like so:</li>
</ol>
<p>src/pages/about-css-modules.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about-css-modules.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&quot;./about-css-modules.module.css&quot;</span></span><br><span class="line"><span class="keyword">import</span> Container <span class="keyword">from</span> <span class="string">&quot;../components/container&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(styles)</span><br></pre></td></tr></table></figure>
<p>The <code>console.log(styles)</code> code will log the resulting import so you can see the result of your processed <code>./about-css-modules.module.css</code> file. If you open the developer console (using e.g. Firefox or Chromeâ€™s developer tools, often by the F12 key) in your browser, youâ€™ll see:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/c1449b13fbeab2d990b6be27f26e364f/0e904/css-modules-console.png"><img src="https://www.gatsbyjs.com/static/c1449b13fbeab2d990b6be27f26e364f/321ea/css-modules-console.png" alt="Import result of CSS module in console"></a></p>
<p>If you compare that to your CSS file, youâ€™ll see that each class is now a key in the imported object pointing to a long string e.g. <code>avatar</code> points to <code>src-pages----about-css-modules-module---avatar---2lRF7</code>. These are the class names CSS Modules generates. Theyâ€™re guaranteed to be unique across your site. And because you have to import them to use the classes, thereâ€™s never any question about where some CSS is being used.</p>
<ol>
<li>Create a new <code>&lt;User /&gt;</code> component inline in the <code>about-css-modules.js</code> page component. Modify <code>about-css-modules.js</code> so it looks like the following:</li>
</ol>
<p>src/pages/about-css-modules.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about-css-modules.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&quot;./about-css-modules.module.css&quot;</span></span><br><span class="line"><span class="keyword">import</span> Container <span class="keyword">from</span> <span class="string">&quot;../components/container&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(styles)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = <span class="function"><span class="params">props</span> =&gt;</span> (</span><br><span class="line">  &lt;div className=&#123;styles.user&#125;&gt;</span><br><span class="line">    &lt;img src=&#123;props.avatar&#125; className=&#123;styles.avatar&#125; alt=<span class="string">&quot;&quot;</span> /&gt;</span><br><span class="line">    &lt;div className=&#123;styles.description&#125;&gt;</span><br><span class="line">      &lt;h2 className=&#123;styles.username&#125;&gt;&#123;props.username&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;p className=&#123;styles.excerpt&#125;&gt;&#123;props.excerpt&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Container&gt;</span><br><span class="line">      &lt;h1&gt;About CSS Modules&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;CSS Modules are cool&lt;/p&gt;</span><br><span class="line">      &lt;User</span><br><span class="line">        username=<span class="string">&quot;Jane Doe&quot;</span></span><br><span class="line">        avatar=<span class="string">&quot;https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/128.jpg&quot;</span></span><br><span class="line">        excerpt=<span class="string">&quot;I&#x27;m Jane Doe. Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;</span></span><br><span class="line">      /&gt;</span><br><span class="line">      &lt;User</span><br><span class="line">        username=<span class="string">&quot;Bob Smith&quot;</span></span><br><span class="line">        avatar=<span class="string">&quot;https://s3.amazonaws.com/uifaces/faces/twitter/vladarbatov/128.jpg&quot;</span></span><br><span class="line">        excerpt=<span class="string">&quot;I&#x27;m Bob Smith, a vertically aligned type of guy. Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;</span></span><br><span class="line">      /&gt;</span><br><span class="line">    &lt;/Container&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Tip: Generally, if you use a component in multiple places on a site, it should be in its own module file in the <code>components</code> directory. But, if itâ€™s used only in one file, create it inline.</p>
</blockquote>
<p>The finished page should now look like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/822dea21b09f9bc97e99eac926a778c7/a4f81/css-modules-userlist.png"><img src="https://www.gatsbyjs.com/static/822dea21b09f9bc97e99eac926a778c7/321ea/css-modules-userlist.png" alt="User list page with CSS modules"></a></p>
<h3 id="CSS-in-JS"><a href="#CSS-in-JS" class="headerlink" title="CSS-in-JS"></a>CSS-in-JS</h3><p>CSS-in-JS is a component-oriented styling approach. Most generally, it is a pattern where <a target="_blank" rel="noopener" href="https://reactjs.org/docs/faq-styling.html#what-is-css-in-js">CSS is composed inline using JavaScript</a>.</p>
<h4 id="Using-CSS-in-JS-with-Gatsby"><a href="#Using-CSS-in-JS-with-Gatsby" class="headerlink" title="Using CSS-in-JS with Gatsby"></a>Using CSS-in-JS with Gatsby</h4><p>There are many different CSS-in-JS libraries and many of them have Gatsby plugins already. We wonâ€™t cover an example of CSS-in-JS in this initial tutorial, but we encourage you to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/styling/">explore</a> what the ecosystem has to offer. There are mini-tutorials for two libraries, in particular, <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/styling/emotion/">Emotion</a> and <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/styling/styled-components/">Styled Components</a>.</p>
<h4 id="Suggested-reading-on-CSS-in-JS"><a href="#Suggested-reading-on-CSS-in-JS" class="headerlink" title="Suggested reading on CSS-in-JS"></a>Suggested reading on CSS-in-JS</h4><p>If youâ€™re interested in further reading, check out <a target="_blank" rel="noopener" href="https://speakerdeck.com/vjeux/react-css-in-js">Christopher â€œvjeuxâ€ Chedeauâ€™s 2014 presentation that sparked this movement</a> as well as <a target="_blank" rel="noopener" href="https://medium.com/seek-blog/a-unified-styling-language-d0c208de2660">Mark Dalgleishâ€™s more recent post â€œA Unified Styling Languageâ€</a>.</p>
<h3 id="Other-CSS-options"><a href="#Other-CSS-options" class="headerlink" title="Other CSS options"></a>Other CSS options</h3><p>Gatsby supports almost every possible styling option (if there isnâ€™t a plugin yet for your favorite CSS option, <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/contributing/how-to-contribute/">please contribute one!</a>)</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-typography/">Typography.js</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-sass/">Sass</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-jss/">JSS</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-stylus/">Stylus</a></li>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-postcss/">PostCSS</a></li>
</ul>
<p>and more!</p>
<h2 id="Whatâ€™s-coming-next"><a href="#Whatâ€™s-coming-next" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>Now continue on to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-three/">part three of the tutorial</a>, where youâ€™ll learn about Gatsby plugins and layout components.</p>
<h1 id="Creating-Nested-Layout-Components"><a href="#Creating-Nested-Layout-Components" class="headerlink" title="Creating Nested Layout Components"></a>Creating Nested Layout Components</h1><p>Welcome to part three!</p>
<h2 id="Whatâ€™s-in-this-tutorial-1"><a href="#Whatâ€™s-in-this-tutorial-1" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>In this part, youâ€™ll learn about Gatsby plugins and creating â€œlayoutâ€ components.</p>
<p>Gatsby plugins are JavaScript packages that help add functionality to a Gatsby site. Gatsby is designed to be extensible, which means plugins are able to extend and modify just about everything Gatsby does.</p>
<p>Layout components are for sections of your site that you want to share across multiple pages. For example, sites will commonly have a layout component with a shared header and footer. Other common things to add to layouts are a sidebar and/or navigation menu. On this page for example, the header at the top is part of gatsbyjs.comâ€™s layout component.</p>
<p>Letâ€™s dive into part three.</p>
<h2 id="Using-plugins"><a href="#Using-plugins" class="headerlink" title="Using plugins"></a>Using plugins</h2><p>Youâ€™re probably familiar with the idea of plugins. Many software systems support adding custom plugins to add new functionality or even modify the core workings of the software. Gatsby plugins work the same way.</p>
<p>Community members (like you!) can contribute plugins (small amounts of JavaScript code) that others can then use when building Gatsby sites.</p>
<blockquote>
<p>There are already hundreds of plugins! Explore the Gatsby <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/plugins/">Plugin Library</a>.</p>
</blockquote>
<p>Our goal with plugins is to make them straightforward to install and use. You will likely be using plugins in almost every Gatsby site you build. While working through the rest of the tutorial youâ€™ll have many opportunities to practice installing and using plugins.</p>
<p>For an initial introduction to using plugins, weâ€™ll install and implement the Gatsby plugin for Typography.js.</p>
<p><a target="_blank" rel="noopener" href="https://kyleamathews.github.io/typography.js/">Typography.js</a> is a JavaScript library which generates global base styles for your siteâ€™s typography. The library has a <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-typography/">corresponding Gatsby plugin</a> to streamline using it in a Gatsby site.</p>
<h3 id="âœ‹-Create-a-new-Gatsby-site-1"><a href="#âœ‹-Create-a-new-Gatsby-site-1" class="headerlink" title="âœ‹ Create a new Gatsby site"></a>âœ‹ Create a new Gatsby site</h3><p>As we mentioned in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-two/">part two</a>, at this point itâ€™s probably a good idea to close the terminal window(s) and project files from previous parts of the tutorial, to keep things clean on your desktop. Then open a new terminal window and run the following commands to create a new Gatsby site in a directory called <code>tutorial-part-three</code> and then move to this new directory:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new tutorial-part-three https://github.com/gatsbyjs/gatsby-starter-hello-world</span><br><span class="line">cd tutorial-part-three</span><br></pre></td></tr></table></figure>
<h3 id="âœ‹-Install-and-configure-gatsby-plugin-typography"><a href="#âœ‹-Install-and-configure-gatsby-plugin-typography" class="headerlink" title="âœ‹ Install and configure gatsby-plugin-typography"></a>âœ‹ Install and configure <code>gatsby-plugin-typography</code></h3><p>There are two main steps to using a plugin: Installing and configuring.</p>
<ol>
<li>Install the <code>gatsby-plugin-typography</code> npm package.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-plugin-typography react-typography typography typography-theme-fairy-gates</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note: Typography.js requires a few additional packages, so those are included in the instructions. Additional requirements like this will be listed in the â€œinstallâ€ instructions of each plugin.</p>
</blockquote>
<ol>
<li>Edit the file <code>gatsby-config.js</code> at the root of your project to the following:</li>
</ol>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-typography`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        pathToConfigModule: <span class="string">`src/utils/typography`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>gatsby-config.js</code> is another special file that Gatsby will automatically recognize. This is where you add plugins and other site configuration.</p>
<blockquote>
<p>Check out the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/gatsby-config/">doc on gatsby-config.js</a> to read more, if you wish.</p>
</blockquote>
<ol>
<li>Typography.js needs a configuration file. Create a new directory called <code>utils</code> in the <code>src</code> directory. Then add a new file called <code>typography.js</code> to <code>utils</code> and copy the following into the file:</li>
</ol>
<p>src/utils/typography.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/utils/typography.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> Typography <span class="keyword">from</span> <span class="string">&quot;typography&quot;</span></span><br><span class="line"><span class="keyword">import</span> fairyGateTheme <span class="keyword">from</span> <span class="string">&quot;typography-theme-fairy-gates&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typography = <span class="keyword">new</span> Typography(fairyGateTheme)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; scale, rhythm, options &#125; = typography</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> typography</span><br></pre></td></tr></table></figure>
<ol>
<li>Start the development server.</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby develop</span><br></pre></td></tr></table></figure>
<p>Once you load the site, if you inspect the generated HTML using the Chrome developer tools, youâ€™ll see that the typography plugin added a <code>&lt;style&gt;</code> element to the <code>&lt;head&gt;</code> element with its generated CSS:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/2c34a22832b1dd0828ac87fde925622a/04784/typography-styles.png"><img src="https://www.gatsbyjs.com/static/2c34a22832b1dd0828ac87fde925622a/321ea/typography-styles.png" alt="Developer tool panel showing `typography.js` CSS styles"></a></p>
<h3 id="âœ‹-Make-some-content-and-style-changes"><a href="#âœ‹-Make-some-content-and-style-changes" class="headerlink" title="âœ‹ Make some content and style changes"></a>âœ‹ Make some content and style changes</h3><p>Copy the following into your <code>src/pages/index.js</code> so you can see the effect of the CSS generated by Typography.js better.</p>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hi! I<span class="string">&#x27;m building a fake Gatsby site as part of a tutorial!&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;</span></span><br><span class="line"><span class="string">        What do I like to do? Lots of course but definitely enjoy building</span></span><br><span class="line"><span class="string">        websites.</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Your site should now look like this:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/95ba417a726c828267d5ca0f02cf0bb5/ca3c3/no-layout.png"><img src="https://www.gatsbyjs.com/static/95ba417a726c828267d5ca0f02cf0bb5/321ea/no-layout.png" alt="Screenshot of site with no layout styling"></a></p>
<p>Letâ€™s make a quick improvement. Many sites have a single column of text centered in the middle of the page. To create this, add the following styles to the <code>&lt;div&gt;</code> in <code>src/pages/index.js</code>.</p>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">margin</span>: <span class="string">`3rem auto`</span>, <span class="attr">maxWidth</span>: <span class="number">600</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;h1&gt;Hi! I<span class="string">&#x27;m building a fake Gatsby site as part of a tutorial!&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;</span></span><br><span class="line"><span class="string">        What do I like to do? Lots of course but definitely enjoy building</span></span><br><span class="line"><span class="string">        websites.</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/a82222caf76c514d5ee974e197730fb1/ca3c3/with-layout2.png"><img src="https://www.gatsbyjs.com/static/a82222caf76c514d5ee974e197730fb1/321ea/with-layout2.png" alt="Screenshot of a Gatsby page with a centered column of text"></a></p>
<p>Sweet. Youâ€™ve installed and configured your very first Gatsby plugin!</p>
<h2 id="Creating-layout-components"><a href="#Creating-layout-components" class="headerlink" title="Creating layout components"></a>Creating layout components</h2><p>Now letâ€™s move on to learning about layout components. To get ready for this part, add a couple new pages to your project: an about page and a contact page.</p>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;About me&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;</span><br><span class="line">        Iâ€™m good enough, Iâ€™m smart enough, and gosh darn it, people like me!</span><br><span class="line">      &lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>src/pages/contact.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/contact.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Contact</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;I<span class="string">&#x27;d love to talk! Email me at the address below&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;</span></span><br><span class="line"><span class="string">        &lt;a href=&quot;mailto:me@example.com&quot;&gt;me@example.com&lt;/a&gt;</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Letâ€™s see what the new about page looks like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/3f584fa0620c329508c29d35ccde9c30/c4451/about-uncentered.png"><img src="https://www.gatsbyjs.com/static/3f584fa0620c329508c29d35ccde9c30/321ea/about-uncentered.png" alt="About page with uncentered text"></a></p>
<p>Hmm. It would be nice if the content of the two new pages were centered like the index page. And it would be nice to have some sort of global navigation so itâ€™s easy for visitors to find and visit each of the sub-pages.</p>
<p>Youâ€™ll tackle these changes by creating your first layout component.</p>
<h3 id="âœ‹-Create-your-first-layout-component"><a href="#âœ‹-Create-your-first-layout-component" class="headerlink" title="âœ‹ Create your first layout component"></a>âœ‹ Create your first layout component</h3><ol>
<li>Create a new directory at <code>src/components</code>.</li>
<li>Create a very basic layout component at <code>src/components/layout.js</code>:</li>
</ol>
<p>src/components/layout.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/layout.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">margin</span>: <span class="string">`3rem auto`</span>, <span class="attr">maxWidth</span>: <span class="number">650</span>, <span class="attr">padding</span>: <span class="string">`0 1rem`</span> &#125;&#125;&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>Import this new layout component into your <code>src/pages/index.js</code> page component:</li>
</ol>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;h1&gt;Hi! I<span class="string">&#x27;m building a fake Gatsby site as part of a tutorial!&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;p&gt;</span></span><br><span class="line"><span class="string">        What do I like to do? Lots of course but definitely enjoy building</span></span><br><span class="line"><span class="string">        websites.</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/Layout&gt;</span></span><br><span class="line"><span class="string">  );</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/a82222caf76c514d5ee974e197730fb1/ca3c3/with-layout2.png"><img src="https://www.gatsbyjs.com/static/a82222caf76c514d5ee974e197730fb1/321ea/with-layout2.png" alt="Screenshot of a Gatsby page with a centered column of text"></a></p>
<p>Sweet, the layout is working! The content of your index page is still centered.</p>
<p>But try navigating to <code>/about/</code>, or <code>/contact/</code>. The content on those pages still wonâ€™t be centered.</p>
<ol>
<li>Import the layout component in <code>about.js</code> and <code>contact.js</code> (as you did for <code>index.js</code> in the previous step).</li>
</ol>
<p>The content of all three of your pages is centered thanks to this single shared layout component!</p>
<h3 id="âœ‹-Add-a-site-title"><a href="#âœ‹-Add-a-site-title" class="headerlink" title="âœ‹ Add a site title"></a>âœ‹ Add a site title</h3><ol>
<li>Add the following line to your new layout component:</li>
</ol>
<p>src/components/layout.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/layout.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">margin</span>: <span class="string">`3rem auto`</span>, <span class="attr">maxWidth</span>: <span class="number">650</span>, <span class="attr">padding</span>: <span class="string">`0 1rem`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;h3&gt;MySweetSite&lt;/h3&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you go to any of your three pages, youâ€™ll see the same title added, e.g. the <code>/about/</code> page:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/edb105d20e6a8980efbf5313715dfb57/ca3c3/with-title.png"><img src="https://www.gatsbyjs.com/static/edb105d20e6a8980efbf5313715dfb57/321ea/with-title.png" alt="Formatted page showing site title"></a></p>
<h3 id="âœ‹-Add-navigation-links-between-pages"><a href="#âœ‹-Add-navigation-links-between-pages" class="headerlink" title="âœ‹ Add navigation links between pages"></a>âœ‹ Add navigation links between pages</h3><ol>
<li>Copy the following into your layout component file:</li>
</ol>
<p>src/components/layout.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/layout.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">const</span> ListLink = <span class="function"><span class="params">props</span> =&gt;</span> (</span><br><span class="line">  &lt;li style=&#123;&#123; <span class="attr">display</span>: <span class="string">`inline-block`</span>, <span class="attr">marginRight</span>: <span class="string">`1rem`</span> &#125;&#125;&gt;</span><br><span class="line">    &lt;Link to=&#123;props.to&#125;&gt;&#123;props.children&#125;&lt;/Link&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="attr">margin</span>: <span class="string">`3rem auto`</span>, <span class="attr">maxWidth</span>: <span class="number">650</span>, <span class="attr">padding</span>: <span class="string">`0 1rem`</span> &#125;&#125;&gt;</span><br><span class="line">      &lt;header style=&#123;&#123; <span class="attr">marginBottom</span>: <span class="string">`1.5rem`</span> &#125;&#125;&gt;</span><br><span class="line">        &lt;Link to=<span class="string">&quot;/&quot;</span> style=&#123;&#123; <span class="attr">textShadow</span>: <span class="string">`none`</span>, <span class="attr">backgroundImage</span>: <span class="string">`none`</span> &#125;&#125;&gt;</span><br><span class="line">          &lt;h3 style=&#123;&#123; <span class="attr">display</span>: <span class="string">`inline`</span> &#125;&#125;&gt;MySweetSite&lt;/h3&gt;</span><br><span class="line">        &lt;/Link&gt;</span><br><span class="line">        &lt;ul style=&#123;&#123; <span class="attr">listStyle</span>: <span class="string">`none`</span>, <span class="attr">float</span>: <span class="string">`right`</span> &#125;&#125;&gt;</span><br><span class="line">          &lt;ListLink to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/ListLink&gt;</span><br><span class="line">          &lt;ListLink to=<span class="string">&quot;/about/&quot;</span>&gt;About&lt;/ListLink&gt;</span><br><span class="line">          &lt;ListLink to=<span class="string">&quot;/contact/&quot;</span>&gt;Contact&lt;/ListLink&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/header&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/420c464b89f35cb6394f134026fe3bc1/ca3c3/with-navigation.png"><img src="https://www.gatsbyjs.com/static/420c464b89f35cb6394f134026fe3bc1/321ea/with-navigation.png" alt="A Gatsby page showing navigation links"></a></p>
<p>And there you have it! A three page site with basic global navigation.</p>
<p><em>Challenge:</em> With your new â€œlayout componentâ€ powers, try adding headers, footers, global navigation, sidebars, etc. to your Gatsby sites!</p>
<h2 id="Whatâ€™s-coming-next-1"><a href="#Whatâ€™s-coming-next-1" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>Continue on to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-four/">part four of the tutorial</a> where youâ€™ll start learning about Gatsbyâ€™s data layer and programmatically creating pages!</p>
<h1 id="Data-in-Gatsby"><a href="#Data-in-Gatsby" class="headerlink" title="Data in Gatsby"></a>Data in Gatsby</h1><p>Welcome to Part Four of the tutorial! Halfway through! Hope things are starting to feel pretty comfortable ğŸ˜€</p>
<h2 id="Recap-of-the-first-half-of-the-tutorial"><a href="#Recap-of-the-first-half-of-the-tutorial" class="headerlink" title="Recap of the first half of the tutorial"></a>Recap of the first half of the tutorial</h2><p>So far, youâ€™ve been learning how to use React.jsâ€”how powerful it is to be able to create your <em>own</em> components to act as custom building blocks for websites.</p>
<p>Youâ€™ve also explored styling components using CSS Modules.</p>
<h2 id="Whatâ€™s-in-this-tutorial-2"><a href="#Whatâ€™s-in-this-tutorial-2" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>In the next four parts of the tutorial (including this one), youâ€™ll be diving into the Gatsby data layer, which is a powerful feature of Gatsby that lets you build sites from Markdown, WordPress, headless CMSs, and other data sources of all flavors.</p>
<p><strong>NOTE:</strong> Gatsbyâ€™s data layer is powered by GraphQL. For an in-depth tutorial on GraphQL, we recommend <a target="_blank" rel="noopener" href="https://www.howtographql.com/">How to GraphQL</a>.</p>
<h2 id="Data-in-Gatsby-1"><a href="#Data-in-Gatsby-1" class="headerlink" title="Data in Gatsby"></a>Data in Gatsby</h2><p>A website has four parts: HTML, CSS, JS, and data. The first half of the tutorial focused on the first three. Now letâ€™s learn how to use data in Gatsby sites.</p>
<p><strong>What is data?</strong></p>
<p>A very computer science-y answer would be: data is things like <code>&quot;strings&quot;</code>, integers (<code>42</code>), objects (<code>&#123; pizza: true &#125;</code>), etc.</p>
<p>For the purpose of working in Gatsby, however, a more useful answer is â€œeverything that lives outside a React componentâ€.</p>
<p>So far, youâ€™ve been writing text and adding images <em>directly</em> in components. Which is an <em>excellent</em> way to build many websites. But, often you want to store data <em>outside</em> components and then bring the data <em>into</em> the component as needed.</p>
<p>If youâ€™re building a site with WordPress (so other contributors have a nice interface for adding &amp; maintaining content) and Gatsby, the <em>data</em> for the site (pages and posts) are in WordPress and you <em>pull</em> that data, as needed, into your components.</p>
<p>Data can also live in file types like Markdown, CSV, etc. as well as databases and APIs of all sorts.</p>
<p><strong>Gatsbyâ€™s data layer lets you pull data from these (and any other source) directly into your components</strong> â€” in the shape and form you want.</p>
<h2 id="Using-Unstructured-Data-vs-GraphQL"><a href="#Using-Unstructured-Data-vs-GraphQL" class="headerlink" title="Using Unstructured Data vs GraphQL"></a>Using Unstructured Data vs GraphQL</h2><h3 id="Do-I-have-to-use-GraphQL-and-source-plugins-to-pull-data-into-Gatsby-sites"><a href="#Do-I-have-to-use-GraphQL-and-source-plugins-to-pull-data-into-Gatsby-sites" class="headerlink" title="Do I have to use GraphQL and source plugins to pull data into Gatsby sites?"></a>Do I have to use GraphQL and source plugins to pull data into Gatsby sites?</h3><p>Absolutely not! You can use the node <code>createPages</code> API to pull unstructured data into Gatsby pages directly, rather than through the GraphQL data layer. This is a great choice for small sites, while GraphQL and source plugins can help save time with more complex sites.</p>
<p>See the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/querying-data/using-gatsby-without-graphql/">Using Gatsby without GraphQL</a> guide to learn how to pull data into your Gatsby site using the node <code>createPages</code> API and to see an example site!</p>
<h3 id="When-do-I-use-unstructured-data-vs-GraphQL"><a href="#When-do-I-use-unstructured-data-vs-GraphQL" class="headerlink" title="When do I use unstructured data vs GraphQL?"></a>When do I use unstructured data vs GraphQL?</h3><p>If youâ€™re building a small site, one efficient way to build it is to pull in unstructured data as outlined in this guide, using <code>createPages</code> API, and then if the site becomes more complex later on, you move on to building more complex sites, or youâ€™d like to transform your data, follow these steps:</p>
<ol>
<li>Check out the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/plugins/">Plugin Library</a> to see if the source plugins and/or transformer plugins youâ€™d like to use already exist</li>
<li>If they donâ€™t exist, read the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/creating-plugins/">Plugin Authoring</a> guide and consider building your own!</li>
</ol>
<h3 id="How-Gatsbyâ€™s-data-layer-uses-GraphQL-to-pull-data-into-components"><a href="#How-Gatsbyâ€™s-data-layer-uses-GraphQL-to-pull-data-into-components" class="headerlink" title="How Gatsbyâ€™s data layer uses GraphQL to pull data into components"></a>How Gatsbyâ€™s data layer uses GraphQL to pull data into components</h3><p>There are many options for loading data into React components. One of the most popular and powerful of these is a technology called <a target="_blank" rel="noopener" href="https://graphql.org/">GraphQL</a>.</p>
<p>GraphQL was invented at Facebook to help product engineers <em>pull</em> needed data into components.</p>
<p>GraphQL is a <strong>q</strong>uery <strong>l</strong>anguage (the <em>QL</em> part of its name). If youâ€™re familiar with SQL, it works in a very similar way. Using a special syntax, you describe the data you want in your component and then that data is given to you.</p>
<p>Gatsby uses GraphQL to enable components to declare the data they need.</p>
<h2 id="Create-a-new-example-site"><a href="#Create-a-new-example-site" class="headerlink" title="Create a new example site"></a>Create a new example site</h2><p>Create another new site for this part of the tutorial. Youâ€™re going to build a Markdown blog called â€œPandas Eating Lotsâ€. Itâ€™s dedicated to showing off the best pictures and videos of pandas eating lots of food. Along the way, youâ€™ll be dipping your toes into GraphQL and Gatsbyâ€™s Markdown support.</p>
<p>Open a new terminal window and run the following commands to create a new Gatsby site in a directory called <code>tutorial-part-four</code>. Then navigate to the new directory:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby new tutorial-part-four https://github.com/gatsbyjs/gatsby-starter-hello-world</span><br><span class="line">cd tutorial-part-four</span><br></pre></td></tr></table></figure>
<p>Then install some other needed dependencies at the root of the project. Youâ€™ll use the Typography theme â€œKirkhamâ€, and youâ€™ll try out a CSS-in-JS library, <a target="_blank" rel="noopener" href="https://emotion.sh/">â€œEmotionâ€</a>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-plugin-typography typography react-typography typography-theme-kirkham gatsby-plugin-emotion @emotion/react</span><br></pre></td></tr></table></figure>
<p>Set up a site similar to what you ended with in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-three">Part Three</a>. This site will have a layout component and two page components:</p>
<p>src/components/layout.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/layout.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; css &#125; <span class="keyword">from</span> <span class="string">&quot;@emotion/react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; rhythm &#125; <span class="keyword">from</span> <span class="string">&quot;../utils/typography&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div</span><br><span class="line">      css=&#123;css`</span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">max-width</span>: 700<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span>: </span><span class="subst">$&#123;rhythm(<span class="number">2</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding-top</span>: </span><span class="subst">$&#123;rhythm(<span class="number">1.5</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">      `</span>&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;Link to=&#123;<span class="string">`/`</span>&#125;&gt;</span><br><span class="line">        &lt;h3</span><br><span class="line">          css=&#123;css`</span><br><span class="line"><span class="css">            <span class="selector-tag">margin-bottom</span>: </span><span class="subst">$&#123;rhythm(<span class="number">2</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">font-style</span>: <span class="selector-tag">normal</span>;</span></span><br><span class="line"><span class="css">          `</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          Pandas Eating Lots</span><br><span class="line">        &lt;/h3&gt;</span><br><span class="line">      &lt;/Link&gt;</span><br><span class="line">      &lt;Link</span><br><span class="line">        to=&#123;<span class="string">`/about/`</span>&#125;</span><br><span class="line">        css=&#123;css`</span><br><span class="line"><span class="css">          <span class="selector-tag">float</span>: <span class="selector-tag">right</span>;</span></span><br><span class="line"><span class="css">        `</span>&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        About</span><br><span class="line">      &lt;/Link&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;h1&gt;Amazing Pandas Eating Things&lt;/h1&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;img</span><br><span class="line">          src=<span class="string">&quot;https://2.bp.blogspot.com/-BMP2l6Hwvp4/TiAxeGx4CTI/AAAAAAAAD_M/XlC_mY3SoEw/s1600/panda-group-eating-bamboo.jpg&quot;</span></span><br><span class="line">          alt=<span class="string">&quot;Group of pandas eating bamboo&quot;</span></span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;h1&gt;About Pandas Eating Lots&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;</span><br><span class="line">        We<span class="string">&#x27;re the only site running on your computer dedicated to showing the</span></span><br><span class="line"><span class="string">        best photos and videos of pandas eating lots of food.</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/Layout&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>src/utils/typography.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/utils/typography.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> Typography <span class="keyword">from</span> <span class="string">&quot;typography&quot;</span></span><br><span class="line"><span class="keyword">import</span> kirkhamTheme <span class="keyword">from</span> <span class="string">&quot;typography-theme-kirkham&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typography = <span class="keyword">new</span> Typography(kirkhamTheme)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> typography</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> rhythm = typography.rhythm</span><br></pre></td></tr></table></figure>
<p><code>gatsby-config.js</code> (must be in the root of your project, not under src)</p>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="string">`gatsby-plugin-emotion`</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-typography`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        pathToConfigModule: <span class="string">`src/utils/typography`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Add the above files and then run <code>gatsby develop</code>, per usual, and you should see the following:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/9a136a7536d2f4b315d446f6a1a83725/ca3c3/start.png"><img src="https://www.gatsbyjs.com/static/9a136a7536d2f4b315d446f6a1a83725/321ea/start.png" alt="start"></a></p>
<p>You have another small site with a layout and two pages.</p>
<p>Now you can start querying ğŸ˜‹</p>
<h2 id="Your-first-GraphQL-query"><a href="#Your-first-GraphQL-query" class="headerlink" title="Your first GraphQL query"></a>Your first GraphQL query</h2><p>When building sites, youâ€™ll probably want to reuse common bits of data â€” like the <em>site title</em> for example. Look at the <code>/about/</code> page. Youâ€™ll notice that you have the site title (<code>Pandas Eating Lots</code>) in both the layout component (the site header) as well as in the <code>&lt;h1 /&gt;</code> of the <code>about.js</code> page (the page header).</p>
<p>But what if you want to change the site title in the future? Youâ€™d have to search for the title across all your components and edit each instance. This is both cumbersome and error-prone, especially for larger, more complex sites. Instead, you can store the title in one location and reference that location from other files; change the title in a single place, and Gatsby will <em>pull</em> your updated title into files that reference it.</p>
<p>The place for these common bits of data is the <code>siteMetadata</code> object in the <code>gatsby-config.js</code> file. Add your site title to the <code>gatsby-config.js</code> file:</p>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  siteMetadata: &#123;</span><br><span class="line">    title: <span class="string">`Title from siteMetadata`</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="string">`gatsby-plugin-emotion`</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-typography`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        pathToConfigModule: <span class="string">`src/utils/typography`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Restart the development server.</p>
<h3 id="Use-a-page-query"><a href="#Use-a-page-query" class="headerlink" title="Use a page query"></a>Use a page query</h3><p>Now the site title is available to be queried; Add it to the <code>about.js</code> file using a <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/querying-data/page-query">page query</a>:</p>
<p>src/pages/about.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/about.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;h1&gt;About &#123;data.site.siteMetadata.title&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;</span><br><span class="line">        We<span class="string">&#x27;re the only site running on your computer dedicated to showing the</span></span><br><span class="line"><span class="string">        best photos and videos of pandas eating lots of food.</span></span><br><span class="line"><span class="string">      &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;/Layout&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export const query = graphql`</span></span><br><span class="line"><span class="string">  query &#123;</span></span><br><span class="line"><span class="string">    site &#123;</span></span><br><span class="line"><span class="string">      siteMetadata &#123;</span></span><br><span class="line"><span class="string">        title</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>It worked! ğŸ‰</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/4df7cdfeb994c1a07b4557f0f6010d91/c5bb3/site-metadata-title.png"><img src="https://www.gatsbyjs.com/static/4df7cdfeb994c1a07b4557f0f6010d91/c5bb3/site-metadata-title.png" alt="Page title pulling from siteMetadata"></a></p>
<p>The basic GraphQL query that retrieves the <code>title</code> in your <code>about.js</code> changes above is:</p>
<p>src/pages/about.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copysrc&#x2F;pages&#x2F;about.js: copy code to clipboard</span><br><span class="line">&#123;</span><br><span class="line">  site &#123;</span><br><span class="line">    siteMetadata &#123;</span><br><span class="line">      title</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ In <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-five/#introducing-graphiql">part five</a>, youâ€™ll meet a tool that lets us interactively explore the data available through GraphQL, and help formulate queries like the one above.</p>
</blockquote>
<p>Page queries live outside of the component definition â€” by convention at the end of a page component file â€” and are only available on page components.</p>
<h3 id="Use-a-StaticQuery"><a href="#Use-a-StaticQuery" class="headerlink" title="Use a StaticQuery"></a>Use a StaticQuery</h3><p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/querying-data/static-query/">StaticQuery</a> is a new API introduced in Gatsby v2 that allows non-page components (like your <code>layout.js</code> component), to retrieve data via GraphQL queries. Letâ€™s use its newly introduced hook version â€” <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/"><code>useStaticQuery</code></a>.</p>
<p>Go ahead and make some changes to your <code>src/components/layout.js</code> file to use the <code>useStaticQuery</code> hook and a <code>&#123;data.site.siteMetadata.title&#125;</code> reference that uses this data. When you are done, your file will look like this:</p>
<p>src/components/layout.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/layout.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; css &#125; <span class="keyword">from</span> <span class="string">&quot;@emotion/react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useStaticQuery, Link, graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; rhythm &#125; <span class="keyword">from</span> <span class="string">&quot;../utils/typography&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Layout</span>(<span class="params">&#123; children &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> data = useStaticQuery(</span><br><span class="line">    graphql<span class="string">`</span></span><br><span class="line"><span class="string">      query &#123;</span></span><br><span class="line"><span class="string">        site &#123;</span></span><br><span class="line"><span class="string">          siteMetadata &#123;</span></span><br><span class="line"><span class="string">            title</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div</span><br><span class="line">      css=&#123;css`</span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">max-width</span>: 700<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span>: </span><span class="subst">$&#123;rhythm(<span class="number">2</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding-top</span>: </span><span class="subst">$&#123;rhythm(<span class="number">1.5</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">      `</span>&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;Link to=&#123;<span class="string">`/`</span>&#125;&gt;</span><br><span class="line">        &lt;h3</span><br><span class="line">          css=&#123;css`</span><br><span class="line"><span class="css">            <span class="selector-tag">margin-bottom</span>: </span><span class="subst">$&#123;rhythm(<span class="number">2</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">font-style</span>: <span class="selector-tag">normal</span>;</span></span><br><span class="line"><span class="css">          `</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;data.site.siteMetadata.title&#125;</span><br><span class="line">        &lt;/h3&gt;</span><br><span class="line">      &lt;/Link&gt;</span><br><span class="line">      &lt;Link</span><br><span class="line">        to=&#123;<span class="string">`/about/`</span>&#125;</span><br><span class="line">        css=&#123;css`</span><br><span class="line"><span class="css">          <span class="selector-tag">float</span>: <span class="selector-tag">right</span>;</span></span><br><span class="line"><span class="css">        `</span>&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        About</span><br><span class="line">      &lt;/Link&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Another success! ğŸ‰</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/500fd2f12d69813d2bbe6d669eaf3ce8/8ce52/site-metadata-two-titles.png"><img src="https://www.gatsbyjs.com/static/500fd2f12d69813d2bbe6d669eaf3ce8/8ce52/site-metadata-two-titles.png" alt="Page title and layout title both pulling from siteMetadata"></a></p>
<p>Why use two different queries here? These examples were quick introductions to the query types, how they are formatted, and where they can be used. For now, keep in mind that only pages can make page queries. Non-page components, such as Layout, can use StaticQuery. <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-seven/">Part 7</a> of the tutorial explains these in greater depth.</p>
<p>But letâ€™s restore the real title.</p>
<p>One of the core principles of Gatsby is that <em>creators need an immediate connection to what theyâ€™re creating</em> (<a target="_blank" rel="noopener" href="http://blog.ezyang.com/2012/02/transcript-of-inventing-on-principle/">hat tip to Bret Victor</a>). In other words, when you make any change to code you should immediately see the effect of that change. You manipulate an input of Gatsby and you see the new output showing up on the screen.</p>
<p>So almost everywhere, changes you make will immediately take effect. Edit the <code>gatsby-config.js</code> file again, this time changing the <code>title</code> back to â€œPandas Eating Lotsâ€. The change should show up very quickly in your site pages.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/550fbd5e51d2ec54cad87687acb76a06/c5bb3/pandas-eating-lots-titles.png"><img src="https://www.gatsbyjs.com/static/550fbd5e51d2ec54cad87687acb76a06/c5bb3/pandas-eating-lots-titles.png" alt="Both titles say Pandas Eating Lots"></a></p>
<h2 id="Whatâ€™s-coming-next-2"><a href="#Whatâ€™s-coming-next-2" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>Next, youâ€™ll be learning about how to pull data into your Gatsby site using GraphQL with source plugins in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-five/">part five</a> of the tutorial.</p>
<h1 id="Source-Plugins"><a href="#Source-Plugins" class="headerlink" title="Source Plugins"></a>Source Plugins</h1><blockquote>
<p>This tutorial is part of a series about Gatsbyâ€™s data layer. Make sure youâ€™ve gone through <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-four/">part 4</a> before continuing here.</p>
</blockquote>
<h2 id="Whatâ€™s-in-this-tutorial-3"><a href="#Whatâ€™s-in-this-tutorial-3" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>In this tutorial, youâ€™ll be learning about how to pull data into your Gatsby site using GraphQL and source plugins. Before you learn about these plugins, however, youâ€™ll want to know how to use something called GraphiQL, a tool that helps you structure your queries correctly.</p>
<h2 id="Introducing-GraphiQL"><a href="#Introducing-GraphiQL" class="headerlink" title="Introducing GraphiQL"></a>Introducing GraphiQL</h2><p>GraphiQL is the GraphQL integrated development environment (IDE). Itâ€™s a powerful (and all-around awesome) tool youâ€™ll use often while building Gatsby websites.</p>
<p>You can access it when your siteâ€™s development server is runningâ€”normally at <code>http://localhost:8000/___graphql</code>.</p>
<p><video controls="" autoplay="" loop="" style="box-sizing: inherit; display: inline-block; width: 702px; margin-bottom: 1.5rem;"></video></p>
<p>Poke around the built-in <code>Site</code> â€œtypeâ€ and see what fields are available on it â€” including the <code>siteMetadata</code> object you queried earlier. Try opening GraphiQL and play with your data! Press Ctrl + Space (or use Shift + Space as an alternate keyboard shortcut) to bring up the autocomplete window and Ctrl + Enter to run the GraphQL query. Youâ€™ll be using GraphiQL a lot more through the remainder of the tutorial.</p>
<h2 id="Using-the-GraphiQL-Explorer"><a href="#Using-the-GraphiQL-Explorer" class="headerlink" title="Using the GraphiQL Explorer"></a>Using the GraphiQL Explorer</h2><p>The GraphiQL Explorer enables you to interactively construct full queries by clicking through available fields and inputs without the repetitive process of typing these queries out by hand.</p>
<iframe class="egghead-video" width="600" height="337.5" src="https://egghead.io/lessons/gatsby-build-a-graphql-query-using-gatsby-s-graphiql-explorer/embed" title="Video: Build a GraphQL Query using Gatsbyâ€™s GraphiQL Explorer" allowfullscreen="" style="box-sizing: inherit; margin: 0px 0px 1.5rem; padding: 0px; border: none; max-width: 100%;"></iframe>

<p><em>Video hosted on <a target="_blank" rel="noopener" href="https://egghead.io/lessons/gatsby-build-a-graphql-query-using-gatsby-s-graphiql-explorer">egghead.io</a></em>.</p>
<h2 id="Source-plugins"><a href="#Source-plugins" class="headerlink" title="Source plugins"></a>Source plugins</h2><p>Data in Gatsby sites can come from anywhere: APIs, databases, CMSs, local files, etc.</p>
<p>Source plugins fetch data from their source. E.g. the filesystem source plugin knows how to fetch data from the file system. The WordPress plugin knows how to fetch data from the WordPress API.</p>
<p>Add <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-source-filesystem/"><code>gatsby-source-filesystem</code></a> and explore how it works.</p>
<p>First, install the plugin at the root of the project:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-source-filesystem</span><br></pre></td></tr></table></figure>
<p>Then add it to your <code>gatsby-config.js</code>:</p>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  siteMetadata: &#123;</span><br><span class="line">    title: <span class="string">`Pandas Eating Lots`</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-source-filesystem`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        name: <span class="string">`src`</span>,</span><br><span class="line">        path: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/src/`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">`gatsby-plugin-emotion`</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-typography`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        pathToConfigModule: <span class="string">`src/utils/typography`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Save that and restart the gatsby development server. Then open up GraphiQL again.</p>
<p>In the explorer pane, youâ€™ll see <code>allFile</code> and <code>file</code> available as selections:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/88ec3efe94e380d32bc1a20cd82dd8bf/373fb/graphiql-filesystem.png"><img src="https://www.gatsbyjs.com/static/88ec3efe94e380d32bc1a20cd82dd8bf/321ea/graphiql-filesystem.png" alt="The GraphiQL IDE showing the new dropdown options provided by the gatsby-source-filesystem plugin"></a></p>
<p>Click the <code>allFile</code> dropdown. Position your cursor after <code>allFile</code> in the query area, and then type Ctrl + Enter. This will pre-fill a query for the <code>id</code> of each file. Press â€œPlayâ€ to run the query:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/cf2ffc2f9d3aa512fb742efd377691da/1d7f7/filesystem-query.png"><img src="https://www.gatsbyjs.com/static/cf2ffc2f9d3aa512fb742efd377691da/321ea/filesystem-query.png" alt="The GraphiQL IDE showing the results of a filesystem query"></a></p>
<p>In the Explorer pane, the <code>id</code> field has automatically been selected. Make selections for more fields by checking the fieldâ€™s corresponding checkbox. Press â€œPlayâ€ to run the query again, with the new fields:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/d430ba8bcbc8eb92cd549b70f3798561/10c1e/filesystem-explorer-options.png"><img src="https://www.gatsbyjs.com/static/d430ba8bcbc8eb92cd549b70f3798561/321ea/filesystem-explorer-options.png" alt="The GraphiQL IDE showing the new fields in the Explorer column"></a></p>
<p>Alternatively, you can add fields by using the autocomplete shortcut (Ctrl + Space). This will show queryable fields on the <code>File</code> nodes.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/b2b05958c518b34568861f40449228f4/8c48a/filesystem-autocomplete.png"><img src="https://www.gatsbyjs.com/static/b2b05958c518b34568861f40449228f4/321ea/filesystem-autocomplete.png" alt="The GraphiQL IDE showing the gatsby-source-filesystem plugin&#39;s new autocomplete options"></a></p>
<p>Try adding a number of fields to your query, press Ctrl + Enter each time to re-run the query. Youâ€™ll see the updated query results:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/077caa982416bc5df87e31f21a1a3417/eff3b/allfile-query.png"><img src="https://www.gatsbyjs.com/static/077caa982416bc5df87e31f21a1a3417/321ea/allfile-query.png" alt="The GraphiQL IDE showing the results of the query"></a></p>
<p>The result is an array of <code>File</code> â€œnodesâ€ (node is a fancy name for an object in a â€œgraphâ€). Each <code>File</code> node object has the fields you queried for.</p>
<h2 id="Build-a-page-with-a-GraphQL-query"><a href="#Build-a-page-with-a-GraphQL-query" class="headerlink" title="Build a page with a GraphQL query"></a>Build a page with a GraphQL query</h2><p>Building new pages with Gatsby often starts in GraphiQL. You first sketch out the data query by playing in GraphiQL then copy this to a React page component to start building the UI.</p>
<p>Letâ€™s try this.</p>
<p>Create a new file at <code>src/pages/my-files.js</code> with the <code>allFile</code> GraphQL query you just created:</p>
<p>src/pages/my-files.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/my-files.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">MyFiles</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;Hello world&lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> query = graphql<span class="string">`</span></span><br><span class="line"><span class="string">  query &#123;</span></span><br><span class="line"><span class="string">    allFile &#123;</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          relativePath</span></span><br><span class="line"><span class="string">          prettySize</span></span><br><span class="line"><span class="string">          extension</span></span><br><span class="line"><span class="string">          birthTime(fromNow: true)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>The <code>console.log(data)</code> line is highlighted above. Itâ€™s often helpful when creating a new component to console out the data youâ€™re getting from the GraphQL query so you can explore the data in your browser console while building the UI.</p>
<p>If you visit the new page at <code>/my-files/</code> and open up your browser console you will see something like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/3fd681a2f33d483a82d067b07704f7e5/fbf08/data-in-console.png"><img src="https://www.gatsbyjs.com/static/3fd681a2f33d483a82d067b07704f7e5/321ea/data-in-console.png" alt="Browser console showing the structure of the data object"></a></p>
<p>The shape of the data matches the shape of the GraphQL query.</p>
<p>Add some code to your component to print out the File data.</p>
<p>src/pages/my-files.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/my-files.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">MyFiles</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;My Site<span class="string">&#x27;s Files&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        &lt;table&gt;</span></span><br><span class="line"><span class="string">          &lt;thead&gt;</span></span><br><span class="line"><span class="string">            &lt;tr&gt;</span></span><br><span class="line"><span class="string">              &lt;th&gt;relativePath&lt;/th&gt;</span></span><br><span class="line"><span class="string">              &lt;th&gt;prettySize&lt;/th&gt;</span></span><br><span class="line"><span class="string">              &lt;th&gt;extension&lt;/th&gt;</span></span><br><span class="line"><span class="string">              &lt;th&gt;birthTime&lt;/th&gt;</span></span><br><span class="line"><span class="string">            &lt;/tr&gt;</span></span><br><span class="line"><span class="string">          &lt;/thead&gt;</span></span><br><span class="line"><span class="string">          &lt;tbody&gt;</span></span><br><span class="line"><span class="string">            &#123;data.allFile.edges.map((&#123; node &#125;, index) =&gt; (</span></span><br><span class="line"><span class="string">              &lt;tr key=&#123;index&#125;&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&#123;node.relativePath&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&#123;node.prettySize&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&#123;node.extension&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">                &lt;td&gt;&#123;node.birthTime&#125;&lt;/td&gt;</span></span><br><span class="line"><span class="string">              &lt;/tr&gt;</span></span><br><span class="line"><span class="string">            ))&#125;</span></span><br><span class="line"><span class="string">          &lt;/tbody&gt;</span></span><br><span class="line"><span class="string">        &lt;/table&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/Layout&gt;</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export const query = graphql`</span></span><br><span class="line"><span class="string">  query &#123;</span></span><br><span class="line"><span class="string">    allFile &#123;</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          relativePath</span></span><br><span class="line"><span class="string">          prettySize</span></span><br><span class="line"><span class="string">          extension</span></span><br><span class="line"><span class="string">          birthTime(fromNow: true)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>And now visit <code>http://localhost:8000/my-files</code>â€¦ ğŸ˜²</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/d5507ac06a742b5fe3a91a40f9c3148a/1ffbd/my-files-page.png"><img src="https://www.gatsbyjs.com/static/d5507ac06a742b5fe3a91a40f9c3148a/321ea/my-files-page.png" alt="A browser window showing a list of the files in the site"></a></p>
<h2 id="Whatâ€™s-coming-next-3"><a href="#Whatâ€™s-coming-next-3" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>Now youâ€™ve learned how source plugins bring data <em>into</em> Gatsbyâ€™s data system. In the next tutorial, youâ€™ll learn how transformer plugins <em>transform</em> the raw content brought by source plugins. The combination of source plugins and transformer plugins can handle all data sourcing and data transformation you might need when building a Gatsby site. Learn about transformer plugins in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-six/">part six of the tutorial</a>.</p>
<h1 id="Transformer-plugins"><a href="#Transformer-plugins" class="headerlink" title="Transformer plugins"></a>Transformer plugins</h1><blockquote>
<p>This tutorial is part of a series about Gatsbyâ€™s data layer. Make sure youâ€™ve gone through <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-four/">part 4</a> and <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-five/">part 5</a> before continuing here.</p>
</blockquote>
<h2 id="Whatâ€™s-in-this-tutorial-4"><a href="#Whatâ€™s-in-this-tutorial-4" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>The previous tutorial showed how source plugins bring data <em>into</em> Gatsbyâ€™s data system. In this tutorial, youâ€™ll learn how transformer plugins <em>transform</em> the raw content brought by source plugins. The combination of source plugins and transformer plugins can handle all data sourcing and data transformation you might need when building a Gatsby site.</p>
<h2 id="Transformer-plugins-1"><a href="#Transformer-plugins-1" class="headerlink" title="Transformer plugins"></a>Transformer plugins</h2><p>Often, the format of the data you get from source plugins isnâ€™t what you want to use to build your website. The filesystem source plugin lets you query data <em>about</em> files but what if you want to query data <em>inside</em> files?</p>
<p>To make this possible, Gatsby supports transformer plugins which take raw content from source plugins and <em>transform</em> it into something more usable.</p>
<p>For example, markdown files. Markdown is nice to write in but when you build a page with it, you need the markdown to be HTML.</p>
<p>Add a markdown file to your site at <code>src/pages/sweet-pandas-eating-sweets.md</code> (This will become your first markdown blog post) and learn how to <em>transform</em> it to HTML using transformer plugins and GraphQL.</p>
<p>src/pages/sweet-pandas-eating-sweets.md</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/sweet-pandas-eating-sweets.md: copy code to clipboard</span><br><span class="line">---</span><br><span class="line">title: &quot;Sweet Pandas Eating Sweets&quot;</span><br><span class="line">date: &quot;2017-08-10&quot;</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Pandas are really sweet.</span><br><span class="line"></span><br><span class="line">Here&#x27;s a video of a panda eating sweets.</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">&quot;560&quot;</span> <span class="attr">height</span>=<span class="string">&quot;315&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.youtube.com/embed/4n0xNbfJLR8&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Once you save the file, look at <code>/my-files/</code> againâ€”the new markdown file is in the table. This is a very powerful feature of Gatsby. Like the earlier <code>siteMetadata</code> example, source plugins can live-reload data. <code>gatsby-source-filesystem</code> is always scanning for new files to be added and when they are, re-runs your queries.</p>
<p>Add a transformer plugin that can transform markdown files:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-transformer-remark</span><br></pre></td></tr></table></figure>
<p>Then add it to the <code>gatsby-config.js</code> like normal:</p>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  siteMetadata: &#123;</span><br><span class="line">    title: <span class="string">`Pandas Eating Lots`</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-source-filesystem`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        name: <span class="string">`src`</span>,</span><br><span class="line">        path: <span class="string">`<span class="subst">$&#123;__dirname&#125;</span>/src/`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">`gatsby-transformer-remark`</span>,</span><br><span class="line">    <span class="string">`gatsby-plugin-emotion`</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-typography`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        pathToConfigModule: <span class="string">`src/utils/typography`</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Restart the development server then refresh (or open again) GraphiQL and look at the autocomplete:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/646695e05a4aafdf903b727c8013f6b7/7bf07/markdown-autocomplete.png"><img src="https://www.gatsbyjs.com/static/646695e05a4aafdf903b727c8013f6b7/321ea/markdown-autocomplete.png" alt="GraphiQL screenshot showing new `gatsby-transformer-remark` autocomplete options"></a></p>
<p>Select <code>allMarkdownRemark</code> again and run it as you did for <code>allFile</code>. Youâ€™ll see there the markdown file you recently added. Explore the fields that are available on the <code>MarkdownRemark</code> node.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/26081bb3e08de00f1d878b807b552daf/ca3c3/markdown-query.png"><img src="https://www.gatsbyjs.com/static/26081bb3e08de00f1d878b807b552daf/321ea/markdown-query.png" alt="GraphiQL screenshot showing the result of a query"></a></p>
<p>Ok! Hopefully, some basics are starting to fall into place. Source plugins bring data <em>into</em> Gatsbyâ€™s data system and <em>transformer</em> plugins transform raw content brought by source plugins. This pattern can handle all data sourcing and data transformation you might need when building a Gatsby site.</p>
<h2 id="Create-a-list-of-your-siteâ€™s-markdown-files-in-src-pages-index-js"><a href="#Create-a-list-of-your-siteâ€™s-markdown-files-in-src-pages-index-js" class="headerlink" title="Create a list of your siteâ€™s markdown files in src/pages/index.js"></a>Create a list of your siteâ€™s markdown files in <code>src/pages/index.js</code></h2><p>Now youâ€™ll have to create a list of your markdown files on the front page. Like many blogs, you want to end up with a list of links on the front page pointing to each blog post. With GraphQL you can <em>query</em> for the current list of markdown blog posts so you wonâ€™t need to maintain the list manually.</p>
<p>Like with the <code>src/pages/my-files.js</code> page, replace <code>src/pages/index.js</code> with the following to add a GraphQL query with some initial HTML and styling.</p>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; css &#125; <span class="keyword">from</span> <span class="string">&quot;@emotion/react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; rhythm &#125; <span class="keyword">from</span> <span class="string">&quot;../utils/typography&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1</span><br><span class="line">          css=&#123;css`</span><br><span class="line"><span class="css">            <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span>;</span></span><br><span class="line"><span class="css">          `</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          Amazing Pandas Eating Things</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">        &lt;h4&gt;&#123;data.allMarkdownRemark.totalCount&#125; Posts&lt;/h4&gt;</span><br><span class="line">        &#123;data.allMarkdownRemark.edges.map(<span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> (</span><br><span class="line">          &lt;div key=&#123;node.id&#125;&gt;</span><br><span class="line">            &lt;h3</span><br><span class="line">              css=&#123;css`</span><br><span class="line"><span class="css">                <span class="selector-tag">margin-bottom</span>: </span><span class="subst">$&#123;rhythm(<span class="number">1</span> / <span class="number">4</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">              `</span>&#125;</span><br><span class="line">            &gt;</span><br><span class="line">              &#123;node.frontmatter.title&#125;&#123;<span class="string">&quot; &quot;</span>&#125;</span><br><span class="line">              &lt;span</span><br><span class="line">                css=&#123;css`</span><br><span class="line"><span class="css">                  <span class="selector-tag">color</span>: <span class="selector-id">#bbb</span>;</span></span><br><span class="line"><span class="css">                `</span>&#125;</span><br><span class="line">              &gt;</span><br><span class="line">                â€” &#123;node.frontmatter.date&#125;</span><br><span class="line">              &lt;/span&gt;</span><br><span class="line">            &lt;/h3&gt;</span><br><span class="line">            &lt;p&gt;&#123;node.excerpt&#125;&lt;/p&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> query = graphql<span class="string">`</span></span><br><span class="line"><span class="string">  query &#123;</span></span><br><span class="line"><span class="string">    allMarkdownRemark &#123;</span></span><br><span class="line"><span class="string">      totalCount</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          id</span></span><br><span class="line"><span class="string">          frontmatter &#123;</span></span><br><span class="line"><span class="string">            title</span></span><br><span class="line"><span class="string">            date(formatString: &quot;DD MMMM, YYYY&quot;)</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          excerpt</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>Now the frontpage should look like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/c12c3c281af8226af74349e0f316b797/ca3c3/frontpage.png"><img src="https://www.gatsbyjs.com/static/c12c3c281af8226af74349e0f316b797/321ea/frontpage.png" alt="Screenshot of the frontpage"></a></p>
<p>But your one blog post looks a bit lonely. So letâ€™s add another one at <code>src/pages/pandas-and-bananas.md</code></p>
<p>src/pages/pandas-and-bananas.md</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/pandas-and-bananas.md: copy code to clipboard</span><br><span class="line">---</span><br><span class="line">title: &quot;Pandas and Bananas&quot;</span><br><span class="line">date: &quot;2017-08-21&quot;</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Do Pandas eat bananas? Check out this short video that shows that yes! pandas do seem to really enjoy bananas!</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">&quot;560&quot;</span> <span class="attr">height</span>=<span class="string">&quot;315&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.youtube.com/embed/4SZl1r2O_bY&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/d7b4537b69b87253593231268802baaa/ca3c3/two-posts.png"><img src="https://www.gatsbyjs.com/static/d7b4537b69b87253593231268802baaa/321ea/two-posts.png" alt="Frontpage showing two posts"></a></p>
<p>Which looks great! Exceptâ€¦ the order of the posts is wrong.</p>
<p>But this is easy to fix. When querying a connection of some type, you can pass a variety of arguments to the GraphQL query. You can <code>sort</code> and <code>filter</code> nodes, set how many nodes to <code>skip</code>, and choose the <code>limit</code> of how many nodes to retrieve. With this powerful set of operators, you can select any data you wantâ€”in the format you need.</p>
<p>In your index pageâ€™s GraphQL query, change <code>allMarkdownRemark</code> to <code>allMarkdownRemark(sort: &#123; fields: [frontmatter___date], order: DESC &#125;)</code>. <em>Note: There are 3 underscores between <code>frontmatter</code> and <code>date</code>.</em> Save this and the sort order should be fixed.</p>
<p>Try opening GraphiQL and playing with different sort options. You can sort the <code>allFile</code> connection along with other connections.</p>
<p>For more documentation on our query operators, explore our <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/graphql-reference/">GraphQL reference guide.</a></p>
<h2 id="Challenge"><a href="#Challenge" class="headerlink" title="Challenge"></a>Challenge</h2><p>Try creating a new page containing a blog post and see what happens to the list of blog posts on the homepage!</p>
<h2 id="Whatâ€™s-coming-next-4"><a href="#Whatâ€™s-coming-next-4" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>This is great! Youâ€™ve just created a nice index page where youâ€™re querying your markdown files and producing a list of blog post titles and excerpts. But you donâ€™t want to just see excerpts, you want actual pages for your markdown files.</p>
<p>You could continue to create pages by placing React components in <code>src/pages</code>. However, youâ€™ll next learn how to <em>programmatically</em> create pages from <em>data</em>. Gatsby is <em>not</em> limited to making pages from files like many static site generators. Gatsby lets you use GraphQL to query your <em>data</em> and <em>map</em> the query results to <em>pages</em>â€”all at build time. This is a really powerful idea. Youâ€™ll be exploring its implications and ways to use it in the next tutorial, where youâ€™ll learn how to <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-seven/">programmatically create pages from data</a>.</p>
<h1 id="Programmatically-create-pages-from-data"><a href="#Programmatically-create-pages-from-data" class="headerlink" title="Programmatically create pages from data"></a>Programmatically create pages from data</h1><blockquote>
<p>This tutorial is part of a series about Gatsbyâ€™s data layer. Make sure youâ€™ve gone through <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-four/">part 4</a>, <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-five/">part 5</a>, and <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-six/">part 6</a> before continuing here.</p>
</blockquote>
<h2 id="Whatâ€™s-in-this-tutorial-5"><a href="#Whatâ€™s-in-this-tutorial-5" class="headerlink" title="Whatâ€™s in this tutorial?"></a>Whatâ€™s in this tutorial?</h2><p>In the previous tutorial, you created a nice index page that queries markdown files and produces a list of blog post titles and excerpts. But you donâ€™t want to just see excerpts, you want actual pages for your markdown files.</p>
<p>You could continue to create pages by placing React components in <code>src/pages</code>. However, youâ€™ll now learn how to <em>programmatically</em> create pages from <em>data</em>. Gatsby is <em>not</em> limited to making pages from files like many static site generators. Gatsby lets you use GraphQL to query your <em>data</em> and <em>map</em> the query results to <em>pages</em>â€”all at build time. This is a really powerful idea. Youâ€™ll be exploring its implications and ways to use it for the remainder of this part of the tutorial.</p>
<p>Letâ€™s get started.</p>
<h2 id="Creating-slugs-for-pages"><a href="#Creating-slugs-for-pages" class="headerlink" title="Creating slugs for pages"></a>Creating slugs for pages</h2><p>A â€˜slugâ€™ is the unique identifying part of a web address, such as the <code>/docs/tutorial/part-seven</code> part of the page <code>https://www.gatsbyjs.com/docs/tutorial/part-seven/</code>.</p>
<p>It is also referred to as the â€˜pathâ€™ but this tutorial will use the term â€˜slugâ€™ for consistency.</p>
<p>Creating new pages has two steps:</p>
<ol>
<li>Generate the â€œpathâ€ or â€œslugâ€ for the page.</li>
<li>Create the page.</li>
</ol>
<p>*<strong>Note</strong>: Often data sources will directly provide a slug or pathname for content â€” when working with one of those systems (e.g. a CMS), you donâ€™t need to create the slugs yourself as you do with markdown files.*</p>
<p>To create your markdown pages, youâ€™ll learn to use two Gatsby APIs: <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/#onCreateNode"><code>onCreateNode</code></a> and <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/#createPages"><code>createPages</code></a>. These are two workhorse APIs youâ€™ll see used in many sites and plugins.</p>
<p>We do our best to make Gatsby APIs simple to implement. To implement an API, you export a function with the name of the API from <code>gatsby-node.js</code>.</p>
<p>So, hereâ€™s where youâ€™ll do that. In the root of your site, create a file named <code>gatsby-node.js</code>. Then add the following.</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Node created of type &quot;<span class="subst">$&#123;node.internal.type&#125;</span>&quot;`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This <code>onCreateNode</code> function will be called by Gatsby whenever a new node is created (or updated).</p>
<p>Stop and restart the development server. As you do, youâ€™ll see quite a few newly created nodes get logged to the terminal console.</p>
<p>In the next section, you will use this API to add slugs for your Markdown pages to <code>MarkdownRemark</code> nodes.</p>
<p>Change your function so it now only logs <code>MarkdownRemark</code> nodes.</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(node.internal.type)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You want to use each markdown file name to create the page slug. So <code>pandas-and-bananas.md</code> will become <code>/pandas-and-bananas/</code>. But how do you get the file name from the <code>MarkdownRemark</code> node? To get it, you need to <em>traverse</em> the â€œnode graphâ€ to its <em>parent</em> <code>File</code> node, as <code>File</code> nodes contain data you need about files on disk. To do that, youâ€™ll use the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/node-api-helpers/#getNode"><code>getNode()</code></a> helper. Add it to <code>onCreateNode</code>â€™s function parameters, and call it to get the file node:</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node, getNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> fileNode = getNode(node.parent)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`\n`</span>, fileNode.relativePath)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>After restarting your development server, you should see the relative paths for your two markdown files print to the terminal screen.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/01e3ab44062c37f7f8c749101e8b8915/4971b/markdown-relative-path.png"><img src="https://www.gatsbyjs.com/static/01e3ab44062c37f7f8c749101e8b8915/4971b/markdown-relative-path.png" alt="markdown-relative-path"></a></p>
<p>Now youâ€™ll have to create slugs. As the logic for creating slugs from file names can get tricky, the <code>gatsby-source-filesystem</code> plugin ships with a function for creating slugs. Letâ€™s use that.</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="keyword">const</span> &#123; createFilePath &#125; = <span class="built_in">require</span>(<span class="string">`gatsby-source-filesystem`</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node, getNode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(createFilePath(&#123; node, getNode, <span class="attr">basePath</span>: <span class="string">`pages`</span> &#125;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The function handles finding the parent <code>File</code> node along with creating the slug. Run the development server again and you should see logged to the terminal two slugs, one for each markdown file.</p>
<p>Now you can add your new slugs directly onto the <code>MarkdownRemark</code> nodes. This is powerful, as any data you add to nodes is available to query later with GraphQL. So, itâ€™ll be easy to get the slug when it comes time to create the pages.</p>
<p>To do so, youâ€™ll use a function passed to your API implementation called <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/actions/#createNodeField"><code>createNodeField</code></a>. This function allows you to create additional fields on nodes created by other plugins. Only the original creator of a node can directly modify the nodeâ€”all other plugins (including your <code>gatsby-node.js</code>) must use this function to create additional fields.</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="keyword">const</span> &#123; createFilePath &#125; = <span class="built_in">require</span>(<span class="string">`gatsby-source-filesystem`</span>)</span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node, getNode, actions &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; createNodeField &#125; = actions</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> slug = createFilePath(&#123; node, getNode, <span class="attr">basePath</span>: <span class="string">`pages`</span> &#125;)</span><br><span class="line">    createNodeField(&#123;</span><br><span class="line">      node,</span><br><span class="line">      name: <span class="string">`slug`</span>,</span><br><span class="line">      value: slug,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Restart the development server and open or refresh GraphiQL. Then run this GraphQL query to see your new slugs.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  allMarkdownRemark &#123;</span><br><span class="line">    edges &#123;</span><br><span class="line">      node &#123;</span><br><span class="line">        fields &#123;</span><br><span class="line">          slug</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now that the slugs are created, you can create the pages.</p>
<h2 id="Creating-pages"><a href="#Creating-pages" class="headerlink" title="Creating pages"></a>Creating pages</h2><p>In the same <code>gatsby-node.js</code> file, add the following.</p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="keyword">const</span> &#123; createFilePath &#125; = <span class="built_in">require</span>(<span class="string">`gatsby-source-filesystem`</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node, getNode, actions &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; createNodeField &#125; = actions</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> slug = createFilePath(&#123; node, getNode, <span class="attr">basePath</span>: <span class="string">`pages`</span> &#125;)</span><br><span class="line">    createNodeField(&#123;</span><br><span class="line">      node,</span><br><span class="line">      name: <span class="string">`slug`</span>,</span><br><span class="line">      value: slug,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.createPages = <span class="keyword">async</span> (&#123; graphql, actions &#125;) =&gt; &#123;</span><br><span class="line">  <span class="comment">// **Note:** The graphql function call returns a Promise</span></span><br><span class="line">  <span class="comment">// see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise for more info</span></span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> graphql(<span class="string">`</span></span><br><span class="line"><span class="string">    query &#123;</span></span><br><span class="line"><span class="string">      allMarkdownRemark &#123;</span></span><br><span class="line"><span class="string">        edges &#123;</span></span><br><span class="line"><span class="string">          node &#123;</span></span><br><span class="line"><span class="string">            fields &#123;</span></span><br><span class="line"><span class="string">              slug</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  `</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(result, <span class="literal">null</span>, <span class="number">4</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Youâ€™ve added an implementation of the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/config-files/gatsby-node/#createPages"><code>createPages</code></a> API which Gatsby calls so plugins can add pages.</p>
<p>As mentioned in the intro to this part of the tutorial, the steps to programmatically creating pages are:</p>
<ol>
<li>Query data with GraphQL</li>
<li>Map the query results to pages</li>
</ol>
<p>The above code is the first step for creating pages from your markdown as youâ€™re using the supplied <code>graphql</code> function to query the markdown slugs you created. Then youâ€™re logging out the result of the query which should look like:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/5193a6c95058806213c59a7bcf73d526/84bf8/query-markdown-slugs.png"><img src="https://www.gatsbyjs.com/static/5193a6c95058806213c59a7bcf73d526/321ea/query-markdown-slugs.png" alt="query-markdown-slugs"></a></p>
<p>You need one additional thing beyond a slug to create pages: a page template component. Like everything in Gatsby, programmatic pages are powered by React components. When creating a page, you need to specify which component to use.</p>
<p>Create a directory at <code>src/templates</code>, and then add the following in a file named <code>src/templates/blog-post.js</code>.</p>
<p>src/templates/blog-post.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/templates/blog-post.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">BlogPost</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;Hello blog post&lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Then update <code>gatsby-node.js</code></p>
<p>gatsby-node.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-node.js: copy code to clipboard</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">`path`</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; createFilePath &#125; = <span class="built_in">require</span>(<span class="string">`gatsby-source-filesystem`</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.onCreateNode = <span class="function">(<span class="params">&#123; node, getNode, actions &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; createNodeField &#125; = actions</span><br><span class="line">  <span class="keyword">if</span> (node.internal.type === <span class="string">`MarkdownRemark`</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> slug = createFilePath(&#123; node, getNode, <span class="attr">basePath</span>: <span class="string">`pages`</span> &#125;)</span><br><span class="line">    createNodeField(&#123;</span><br><span class="line">      node,</span><br><span class="line">      name: <span class="string">`slug`</span>,</span><br><span class="line">      value: slug,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.createPages = <span class="keyword">async</span> (&#123; graphql, actions &#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; createPage &#125; = actions</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> graphql(<span class="string">`</span></span><br><span class="line"><span class="string">    query &#123;</span></span><br><span class="line"><span class="string">      allMarkdownRemark &#123;</span></span><br><span class="line"><span class="string">        edges &#123;</span></span><br><span class="line"><span class="string">          node &#123;</span></span><br><span class="line"><span class="string">            fields &#123;</span></span><br><span class="line"><span class="string">              slug</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  `</span>)</span><br><span class="line"></span><br><span class="line">  result.data.allMarkdownRemark.edges.forEach(<span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    createPage(&#123;</span><br><span class="line">      path: node.fields.slug,</span><br><span class="line">      component: path.resolve(<span class="string">`./src/templates/blog-post.js`</span>),</span><br><span class="line">      context: &#123;</span><br><span class="line">        <span class="comment">// Data passed to context is available</span></span><br><span class="line">        <span class="comment">// in page queries as GraphQL variables.</span></span><br><span class="line">        slug: node.fields.slug,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Restart the development server and your pages will be created! An easy way to find new pages you create while developing is to go to a random path where Gatsby will helpfully show you a list of pages on the site. If you go to <code>http://localhost:8000/sdf</code>, youâ€™ll see the new pages you created.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/b1a3666651a4de0eaf754938d4c9e4fb/ca3c3/new-pages.png"><img src="https://www.gatsbyjs.com/static/b1a3666651a4de0eaf754938d4c9e4fb/321ea/new-pages.png" alt="new-pages"></a></p>
<p>Visit one of them and you see:</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/3467d825ce4845fabbec061e8130e0a8/ca3c3/hello-world-blog-post.png"><img src="https://www.gatsbyjs.com/static/3467d825ce4845fabbec061e8130e0a8/321ea/hello-world-blog-post.png" alt="hello-world-blog-post"></a></p>
<p>Which is a bit boring and not what you want. Now you can pull in data from your markdown post. Change <code>src/templates/blog-post.js</code> to:</p>
<p>src/templates/blog-post.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/templates/blog-post.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">BlogPost</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> post = data.markdownRemark</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123;post.frontmatter.title&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;div dangerouslySetInnerHTML=&#123;&#123; <span class="attr">__html</span>: post.html &#125;&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> query = graphql<span class="string">`</span></span><br><span class="line"><span class="string">  query($slug: String!) &#123;</span></span><br><span class="line"><span class="string">    markdownRemark(fields: &#123; slug: &#123; eq: $slug &#125; &#125;) &#123;</span></span><br><span class="line"><span class="string">      html</span></span><br><span class="line"><span class="string">      frontmatter &#123;</span></span><br><span class="line"><span class="string">        title</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>Andâ€¦</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/d91348f58c91ccc92588a68be507b324/ca3c3/blog-post.png"><img src="https://www.gatsbyjs.com/static/d91348f58c91ccc92588a68be507b324/321ea/blog-post.png" alt="blog-post"></a></p>
<p>Sweet!</p>
<p>The last step is to link to your new pages from the index page.</p>
<p>Return to <code>src/pages/index.js</code>, query for your markdown slugs, and create links.</p>
<p>src/pages/index.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/pages/index.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; css &#125; <span class="keyword">from</span> <span class="string">&quot;@emotion/react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Link, graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; rhythm &#125; <span class="keyword">from</span> <span class="string">&quot;../utils/typography&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Home</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1</span><br><span class="line">          css=&#123;css`</span><br><span class="line"><span class="css">            <span class="selector-tag">display</span>: <span class="selector-tag">inline-block</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span>;</span></span><br><span class="line"><span class="css">          `</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          Amazing Pandas Eating Things</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">        &lt;h4&gt;&#123;data.allMarkdownRemark.totalCount&#125; Posts&lt;/h4&gt;</span><br><span class="line">        &#123;data.allMarkdownRemark.edges.map(<span class="function">(<span class="params">&#123; node &#125;</span>) =&gt;</span> (</span><br><span class="line">          &lt;div key=&#123;node.id&#125;&gt;</span><br><span class="line">            &lt;Link</span><br><span class="line">              to=&#123;node.fields.slug&#125;</span><br><span class="line">              css=&#123;css`</span><br><span class="line"><span class="css">                <span class="selector-tag">text-decoration</span>: <span class="selector-tag">none</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-tag">inherit</span>;</span></span><br><span class="line"><span class="css">              `</span>&#125;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;h3</span><br><span class="line">                css=&#123;css`</span><br><span class="line"><span class="css">                  <span class="selector-tag">margin-bottom</span>: </span><span class="subst">$&#123;rhythm(<span class="number">1</span> / <span class="number">4</span>)&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">                `</span>&#125;</span><br><span class="line">              &gt;</span><br><span class="line">                &#123;node.frontmatter.title&#125;&#123;<span class="string">&quot; &quot;</span>&#125;</span><br><span class="line">                &lt;span</span><br><span class="line">                  css=&#123;css`</span><br><span class="line"><span class="css">                    <span class="selector-tag">color</span>: <span class="selector-id">#555</span>;</span></span><br><span class="line"><span class="css">                  `</span>&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                  â€” &#123;node.frontmatter.date&#125;</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line">              &lt;/h3&gt;</span><br><span class="line">              &lt;p&gt;&#123;node.excerpt&#125;&lt;/p&gt;</span><br><span class="line">            &lt;/Link&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> query = graphql<span class="string">`</span></span><br><span class="line"><span class="string">  query &#123;</span></span><br><span class="line"><span class="string">    allMarkdownRemark(sort: &#123; fields: [frontmatter___date], order: DESC &#125;) &#123;</span></span><br><span class="line"><span class="string">      totalCount</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          id</span></span><br><span class="line"><span class="string">          frontmatter &#123;</span></span><br><span class="line"><span class="string">            title</span></span><br><span class="line"><span class="string">            date(formatString: &quot;DD MMMM, YYYY&quot;)</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          fields &#123;</span></span><br><span class="line"><span class="string">            slug</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          excerpt</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>And there you go! A working, albeit small, blog!</p>
<h2 id="Challenge-1"><a href="#Challenge-1" class="headerlink" title="Challenge"></a>Challenge</h2><p>Try playing more with the site. Try adding some more markdown files. Explore querying other data from the <code>MarkdownRemark</code> nodes and adding them to the front page or blog posts pages.</p>
<p>In this part of the tutorial, youâ€™ve learned the foundations of building with Gatsbyâ€™s data layer. Youâ€™ve learned how to <em>source</em> and <em>transform</em> data using plugins, how to use GraphQL to <em>map</em> data to pages, and then how to build <em>page template components</em> where you query for data for each page.</p>
<h2 id="Whatâ€™s-coming-next-5"><a href="#Whatâ€™s-coming-next-5" class="headerlink" title="Whatâ€™s coming next?"></a>Whatâ€™s coming next?</h2><p>Now that youâ€™ve built a Gatsby site, where do you go next?</p>
<ul>
<li>Share your Gatsby site on Twitter and see what other people have created by searching for #gatsbytutorial! Make sure to mention @gatsbyjs in your Tweet and include the hashtag #gatsbytutorial :)</li>
<li>You could take a look at some <a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby/tree/master/examples#gatsby-example-websites">example sites</a></li>
<li>Explore more <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/plugins/">plugins</a></li>
<li>See what <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/showcase/">other people are building with Gatsby</a></li>
<li>Check out the documentation on <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/api-specification/">Gatsbyâ€™s APIs</a>, <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference/graphql-data-layer/node-interface/">nodes</a>, or <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/graphql-reference/">GraphQL</a></li>
</ul>
<h1 id="Preparing-a-Site-to-Go-Live"><a href="#Preparing-a-Site-to-Go-Live" class="headerlink" title="Preparing a Site to Go Live"></a>Preparing a Site to Go Live</h1><p>Wow! Youâ€™ve come a long way! Youâ€™ve learned how to:</p>
<ul>
<li>create new Gatsby sites</li>
<li>create pages and components</li>
<li>style components</li>
<li>add plugins to a site</li>
<li>source &amp; transform data</li>
<li>use GraphQL to query data for pages</li>
<li>programmatically create pages from your data</li>
</ul>
<p>In this final section, youâ€™re going to walk through some common steps for preparing a site to go live by introducing a powerful site diagnostic tool called <a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse/">Lighthouse</a>. Along the way, weâ€™ll introduce a few more plugins youâ€™ll often want to use in your Gatsby sites.</p>
<h2 id="Audit-with-Lighthouse"><a href="#Audit-with-Lighthouse" class="headerlink" title="Audit with Lighthouse"></a>Audit with Lighthouse</h2><p>Quoting from the <a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse/">Lighthouse website</a>:</p>
<blockquote>
<p>Lighthouse is an open-source, automated tool for improving the quality of web pages. You can run it against any web page, public or requiring authentication. It has audits for performance, accessibility, progressive web apps (PWAs), and more.</p>
</blockquote>
<p>Lighthouse is included in Chrome DevTools. Running its audit â€” and then addressing the errors it finds and implementing the improvements it suggests â€” is a great way to prepare your site to go live. It helps give you confidence that your site is as fast and accessible as possible.</p>
<p>Try it out!</p>
<p>First, you need to create a production build of your Gatsby site. The Gatsby development server is optimized for making development fast; But the site that it generates, while closely resembling a production version of the site, isnâ€™t as optimized.</p>
<h3 id="âœ‹-Create-a-production-build"><a href="#âœ‹-Create-a-production-build" class="headerlink" title="âœ‹ Create a production build"></a>âœ‹ Create a production build</h3><ol>
<li>Stop the development server (if itâ€™s still running) and run the following command:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby build</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ As you learned in <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-one/">part 1</a>, this does a production build of your site and outputs the built static files into the <code>public</code> directory.</p>
</blockquote>
<ol>
<li>View the production site locally. Run:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gatsby serve</span><br></pre></td></tr></table></figure>
<p>Once this starts, you can view your site at <code>http://localhost:9000</code>.</p>
<h3 id="Run-a-Lighthouse-audit"><a href="#Run-a-Lighthouse-audit" class="headerlink" title="Run a Lighthouse audit"></a>Run a Lighthouse audit</h3><p>Now youâ€™re going to run your first Lighthouse test.</p>
<ol>
<li>If you havenâ€™t already done so, open the site in Chrome Incognito Mode so no extensions interfere with the test. Then, open up the Chrome DevTools.</li>
<li>Click on the â€œAuditsâ€ tab where youâ€™ll see a screen that looks like:</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/cdc985b7497f4a6b99b6bbd19f9168fa/df56e/lighthouse-audit.png"><img src="https://www.gatsbyjs.com/static/cdc985b7497f4a6b99b6bbd19f9168fa/321ea/lighthouse-audit.png" alt="Lighthouse audit start"></a></p>
<ol>
<li>Click â€œPerform an auditâ€¦â€ (All available audit types should be selected by default). Then click â€œRun auditâ€. (Itâ€™ll then take a minute or so to run the audit). Once the audit is complete, you should see results that look like this:</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/static/46b36f48f05e2a3ce358991fe95c5446/d7ceb/lighthouse-audit-results.png"><img src="https://www.gatsbyjs.com/static/46b36f48f05e2a3ce358991fe95c5446/321ea/lighthouse-audit-results.png" alt="Lighthouse audit results"></a></p>
<p>As you can see, Gatsbyâ€™s performance is excellent out of the box but youâ€™re missing some things for PWA, Accessibility, Best Practices, and SEO that will improve your scores (and in the process make your site much more friendly to visitors and search engines).</p>
<h2 id="Add-a-manifest-file"><a href="#Add-a-manifest-file" class="headerlink" title="Add a manifest file"></a>Add a manifest file</h2><p>Looks like you have a pretty lackluster score in the â€œProgressive Web Appâ€ category. Letâ€™s address that.</p>
<p>But first, what exactly <em>are</em> PWAs?</p>
<p>They are regular websites that take advantage of modern browser functionality to augment the web experience with app-like features and benefits. Check out <a target="_blank" rel="noopener" href="https://developers.google.com/web/progressive-web-apps/">Googleâ€™s overview</a> of what defines a PWA experience.</p>
<p>Inclusion of a web app manifest is one of the three generally accepted <a target="_blank" rel="noopener" href="https://alistapart.com/article/yes-that-web-project-should-be-a-pwa#section1">baseline requirements for a PWA</a>.</p>
<p>Quoting <a target="_blank" rel="noopener" href="https://developers.google.com/web/fundamentals/web-app-manifest/">Google</a>:</p>
<blockquote>
<p>The web app manifest is a simple JSON file that tells the browser about your web application and how it should behave when â€˜installedâ€™ on the userâ€™s mobile device or desktop.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-manifest/">Gatsbyâ€™s manifest plugin</a> configures Gatsby to create a <code>manifest.webmanifest</code> file on every site build.</p>
<h3 id="âœ‹-Using-gatsby-plugin-manifest"><a href="#âœ‹-Using-gatsby-plugin-manifest" class="headerlink" title="âœ‹ Using gatsby-plugin-manifest"></a>âœ‹ Using <code>gatsby-plugin-manifest</code></h3><ol>
<li>Install the plugin:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-plugin-manifest</span><br></pre></td></tr></table></figure>
<ol>
<li>Add a favicon for your app under <code>src/images/icon.png</code>. For the purposes of this tutorial you can use <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/gatsbyjs/gatsby/master/docs/docs/tutorial/part-eight/icon.png">this example icon</a>, should you not have one available. The icon is necessary to build all images for the manifest. For more information, look at the docs for <a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-plugin-manifest/README.md"><code>gatsby-plugin-manifest</code></a>.</li>
<li>Add the plugin to the <code>plugins</code> array in your <code>gatsby-config.js</code> file.</li>
</ol>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line">&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-manifest`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        short_name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        start_url: <span class="string">`/`</span>,</span><br><span class="line">        background_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        theme_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        <span class="comment">// Enables &quot;Add to Homescreen&quot; prompt and disables browser UI (including back button)</span></span><br><span class="line">        <span class="comment">// see https://developers.google.com/web/fundamentals/web-app-manifest/#display</span></span><br><span class="line">        display: <span class="string">`standalone`</span>,</span><br><span class="line">        icon: <span class="string">`src/images/icon.png`</span>, <span class="comment">// This path is relative to the root of the site.</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Thatâ€™s all you need to get started with adding a web manifest to a Gatsby site. The example given reflects a base configuration â€” Check out the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-manifest/?=gatsby-plugin-manifest#automatic-mode">plugin reference</a> for more options.</p>
<h2 id="Add-offline-support"><a href="#Add-offline-support" class="headerlink" title="Add offline support"></a>Add offline support</h2><p>Another requirement for a website to qualify as a PWA is the use of a <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">service worker</a>. A service worker runs in the background, deciding to serve network or cached content based on connectivity, allowing for a seamless, managed offline experience.</p>
<p><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-offline/">Gatsbyâ€™s offline plugin</a> makes a Gatsby site work offline and more resistant to bad network conditions by creating a service worker for your site.</p>
<h3 id="âœ‹-Using-gatsby-plugin-offline"><a href="#âœ‹-Using-gatsby-plugin-offline" class="headerlink" title="âœ‹ Using gatsby-plugin-offline"></a>âœ‹ Using <code>gatsby-plugin-offline</code></h3><ol>
<li>Install the plugin:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-plugin-offline</span><br></pre></td></tr></table></figure>
<ol>
<li>Add the plugin to the <code>plugins</code> array in your <code>gatsby-config.js</code> file.</li>
</ol>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line">&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-manifest`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        short_name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        start_url: <span class="string">`/`</span>,</span><br><span class="line">        background_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        theme_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        <span class="comment">// Enables &quot;Add to Homescreen&quot; prompt and disables browser UI (including back button)</span></span><br><span class="line">        <span class="comment">// see https://developers.google.com/web/fundamentals/web-app-manifest/#display</span></span><br><span class="line">        display: <span class="string">`standalone`</span>,</span><br><span class="line">        icon: <span class="string">`src/images/icon.png`</span>, <span class="comment">// This path is relative to the root of the site.</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">`gatsby-plugin-offline`</span>,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Thatâ€™s all you need to get started with service workers with Gatsby.</p>
<blockquote>
<p>ğŸ’¡ The offline plugin should be listed <em>after</em> the manifest plugin so that the offline plugin can cache the created <code>manifest.webmanifest</code>.</p>
</blockquote>
<h2 id="Add-page-metadata"><a href="#Add-page-metadata" class="headerlink" title="Add page metadata"></a>Add page metadata</h2><p>Adding metadata to pages (such as a title or description) is key in helping search engines like Google understand your content and decide when to surface it in search results.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/nfl/react-helmet">React Helmet</a> is a package that provides a React component interface for you to manage your <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head">document head</a>.</p>
<p>Gatsbyâ€™s <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/packages/gatsby-plugin-react-helmet/">react helmet plugin</a> provides drop-in support for server rendering data added with React Helmet. Using the plugin, attributes you add to React Helmet will be added to the static HTML pages that Gatsby builds.</p>
<h3 id="âœ‹-Using-React-Helmet-and-gatsby-plugin-react-helmet"><a href="#âœ‹-Using-React-Helmet-and-gatsby-plugin-react-helmet" class="headerlink" title="âœ‹ Using React Helmet and gatsby-plugin-react-helmet"></a>âœ‹ Using <code>React Helmet</code> and <code>gatsby-plugin-react-helmet</code></h3><ol>
<li>Install both packages:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm install gatsby-plugin-react-helmet react-helmet</span><br></pre></td></tr></table></figure>
<ol>
<li>Make sure you have a <code>description</code> and an <code>author</code> configured inside your <code>siteMetadata</code> object. Also, add the <code>gatsby-plugin-react-helmet</code> plugin to the <code>plugins</code> array in your <code>gatsby-config.js</code> file.</li>
</ol>
<p>gatsby-config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Copygatsby-config.js: copy code to clipboard</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  siteMetadata: &#123;</span><br><span class="line">    title: <span class="string">`Pandas Eating Lots`</span>,</span><br><span class="line">    description: <span class="string">`A simple description about pandas eating lots...`</span>,</span><br><span class="line">    author: <span class="string">`gatsbyjs`</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123;</span><br><span class="line">      resolve: <span class="string">`gatsby-plugin-manifest`</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        short_name: <span class="string">`GatsbyJS`</span>,</span><br><span class="line">        start_url: <span class="string">`/`</span>,</span><br><span class="line">        background_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        theme_color: <span class="string">`#6b37bf`</span>,</span><br><span class="line">        <span class="comment">// Enables &quot;Add to Homescreen&quot; prompt and disables browser UI (including back button)</span></span><br><span class="line">        <span class="comment">// see https://developers.google.com/web/fundamentals/web-app-manifest/#display</span></span><br><span class="line">        display: <span class="string">`standalone`</span>,</span><br><span class="line">        icon: <span class="string">`src/images/icon.png`</span>, <span class="comment">// This path is relative to the root of the site.</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">`gatsby-plugin-offline`</span>,</span><br><span class="line">    <span class="string">`gatsby-plugin-react-helmet`</span>,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>In the <code>src/components</code> directory, create a file called <code>seo.js</code> and add the following:</li>
</ol>
<p>src/components/seo.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/components/seo.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Helmet &#125; <span class="keyword">from</span> <span class="string">&quot;react-helmet&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useStaticQuery, graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SEO</span>(<span class="params">&#123; description, lang, meta, title &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; site &#125; = useStaticQuery(</span><br><span class="line">    graphql<span class="string">`</span></span><br><span class="line"><span class="string">      query &#123;</span></span><br><span class="line"><span class="string">        site &#123;</span></span><br><span class="line"><span class="string">          siteMetadata &#123;</span></span><br><span class="line"><span class="string">            title</span></span><br><span class="line"><span class="string">            description</span></span><br><span class="line"><span class="string">            author</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> metaDescription = description || site.siteMetadata.description</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Helmet</span><br><span class="line">      htmlAttributes=&#123;&#123;</span><br><span class="line">        lang,</span><br><span class="line">      &#125;&#125;</span><br><span class="line">      title=&#123;title&#125;</span><br><span class="line">      titleTemplate=&#123;<span class="string">`%s | <span class="subst">$&#123;site.siteMetadata.title&#125;</span>`</span>&#125;</span><br><span class="line">      meta=&#123;[</span><br><span class="line">        &#123;</span><br><span class="line">          name: <span class="string">`description`</span>,</span><br><span class="line">          content: metaDescription,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          property: <span class="string">`og:title`</span>,</span><br><span class="line">          content: title,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          property: <span class="string">`og:description`</span>,</span><br><span class="line">          content: metaDescription,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          property: <span class="string">`og:type`</span>,</span><br><span class="line">          content: <span class="string">`website`</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: <span class="string">`twitter:card`</span>,</span><br><span class="line">          content: <span class="string">`summary`</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: <span class="string">`twitter:creator`</span>,</span><br><span class="line">          content: site.siteMetadata.author,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: <span class="string">`twitter:title`</span>,</span><br><span class="line">          content: title,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: <span class="string">`twitter:description`</span>,</span><br><span class="line">          content: metaDescription,</span><br><span class="line">        &#125;,</span><br><span class="line">      ].concat(meta)&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SEO.defaultProps = &#123;</span><br><span class="line">  lang: <span class="string">`en`</span>,</span><br><span class="line">  meta: [],</span><br><span class="line">  description: <span class="string">``</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SEO.propTypes = &#123;</span><br><span class="line">  description: PropTypes.string,</span><br><span class="line">  lang: PropTypes.string,</span><br><span class="line">  meta: PropTypes.arrayOf(PropTypes.object),</span><br><span class="line">  title: PropTypes.string.isRequired,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> SEO</span><br></pre></td></tr></table></figure>
<p>The above code sets up defaults for your most common metadata tags and provides you an <code>&lt;SEO&gt;</code> component to work within the rest of your project. Pretty cool, right?</p>
<ol>
<li>Now, you can use the <code>&lt;SEO&gt;</code> component in your templates and pages and pass props to it. For example, add it to your <code>blog-post.js</code> template like so:</li>
</ol>
<p>src/templates/blog-post.js</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Copysrc/templates/blog-post.js: copy code to clipboard</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">&quot;gatsby&quot;</span></span><br><span class="line"><span class="keyword">import</span> Layout <span class="keyword">from</span> <span class="string">&quot;../components/layout&quot;</span></span><br><span class="line"><span class="keyword">import</span> SEO <span class="keyword">from</span> <span class="string">&quot;../components/seo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">BlogPost</span>(<span class="params">&#123; data &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> post = data.markdownRemark</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Layout&gt;</span><br><span class="line">      &lt;SEO title=&#123;post.frontmatter.title&#125; description=&#123;post.excerpt&#125; /&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;&#123;post.frontmatter.title&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;div dangerouslySetInnerHTML=&#123;&#123; <span class="attr">__html</span>: post.html &#125;&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/Layout&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> query = graphql<span class="string">`</span></span><br><span class="line"><span class="string">  query($slug: String!) &#123;</span></span><br><span class="line"><span class="string">    markdownRemark(fields: &#123; slug: &#123; eq: $slug &#125; &#125;) &#123;</span></span><br><span class="line"><span class="string">      html</span></span><br><span class="line"><span class="string">      frontmatter &#123;</span></span><br><span class="line"><span class="string">        title</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      excerpt</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>
<p>The above example is based off the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-blog/">Gatsby Starter Blog</a>. By passing props to the <code>&lt;SEO&gt;</code> component, you can dynamically change the metadata for a post. In this case, the blog post <code>title</code> and <code>excerpt</code> (if it exists in the blog post markdown file) will be used instead of the default <code>siteMetadata</code> properties in your <code>gatsby-config.js</code> file.</p>
<p>Now, if you run the Lighthouse audit again as laid out above, you should get close toâ€”if not a perfectâ€” 100 score!</p>
<blockquote>
<p>ğŸ’¡ For further reading and examples, check out <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/add-seo-component/">Adding an SEO Component</a> and the <a target="_blank" rel="noopener" href="https://github.com/nfl/react-helmet#example">React Helmet docs</a>!</p>
</blockquote>
<h2 id="Keep-making-it-better"><a href="#Keep-making-it-better" class="headerlink" title="Keep making it better"></a>Keep making it better</h2><p>In this section, weâ€™ve shown you a few Gatsby-specific tools to improve your siteâ€™s performance and prepare to go live.</p>
<p>Lighthouse is a great tool for site improvements and learning â€” Continue looking through the detailed feedback it provides and keep making your site better!</p>
<h2 id="Next-Steps"><a href="#Next-Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><h3 id="Official-Documentation"><a href="#Official-Documentation" class="headerlink" title="Official Documentation"></a>Official Documentation</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/">Official Documentation</a>: View our Official Documentation for step-by-step <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/">How-To Guides</a>, big-picture <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/conceptual">Conceptual Guides</a>, and technical <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/reference">Reference Guides</a>.</li>
</ul>
<h3 id="Official-Plugins"><a href="#Official-Plugins" class="headerlink" title="Official Plugins"></a>Official Plugins</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby/tree/master/packages">Official Plugins</a>: The complete list of all the Official Plugins maintained by Gatsby.</li>
</ul>
<h3 id="Official-Starters"><a href="#Official-Starters" class="headerlink" title="Official Starters"></a>Official Starters</h3><ol>
<li><a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby-starter-default">Gatsbyâ€™s Default Starter</a>: Kick off your project with this default boilerplate. This barebones starter ships with the main Gatsby configuration files you might need. <em><a target="_blank" rel="noopener" href="https://gatsbyjs.github.io/gatsby-starter-default/">working example</a></em></li>
<li><a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby-starter-blog">Gatsbyâ€™s Blog Starter</a>: Gatsby starter for creating an awesome and blazing-fast blog. <em><a target="_blank" rel="noopener" href="https://gatsbyjs.github.io/gatsby-starter-blog/">working example</a></em></li>
<li><a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby-starter-hello-world">Gatsbyâ€™s Hello-World Starter</a>: Gatsby Starter with the bare essentials needed for a Gatsby site. <em><a target="_blank" rel="noopener" href="https://gatsby-starter-hello-world-demo.netlify.app/">working example</a></em></li>
</ol>
<h2 id="Thatâ€™s-all-folks"><a href="#Thatâ€™s-all-folks" class="headerlink" title="Thatâ€™s all, folks"></a>Thatâ€™s all, folks</h2><p>Well, not quite; just for this tutorial. There are additional <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/how-to/">How-To Guides</a> to check out for more guided use cases.</p>
<p>This is just the beginning. Keep going!</p>
<ul>
<li>Did you build something cool? Share it on Twitter, tag <a target="_blank" rel="noopener" href="https://twitter.com/search?q=%23buildwithgatsby">#buildwithgatsby</a>, and <a target="_blank" rel="noopener" href="https://twitter.com/gatsbyjs">@mention us</a>!</li>
<li>Did you write a cool blog post about what you learned? Share that, too!</li>
<li>Contribute! Take a stroll through <a target="_blank" rel="noopener" href="https://github.com/gatsbyjs/gatsby/issues?q=is:issue+is:open+label:%22help+wanted%22">open issues</a> on the gatsby repo and <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/contributing/how-to-contribute/">become a contributor</a>.</li>
</ul>
<p>Check out the <a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/contributing/how-to-contribute/">â€œhow to contributeâ€</a> docs for even more ideas.</p>
<p>We canâ€™t wait to see what you do ğŸ˜„.</p>
<blockquote>
<p>Gatsby Tutorialï¼š<a target="_blank" rel="noopener" href="https://www.gatsbyjs.com/docs/tutorial/part-eight/">https://www.gatsbyjs.com/docs/tutorial/part-eight/</a></p>
</blockquote>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/JavaScriptFetchAPI/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>Prev</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime" title="Update time"></i>
              2020-12-29
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags" title="Tags"></i>
                    
                    <span class="span--tag">
                      <a href="/tags/React/" title="React">
                        <b>#</b> React
                      </a>
                    </span>
                    
                    <span class="span--tag">
                      <a href="/tags/Gatsby/" title="Gatsby">
                        <b>#</b> Gatsby
                      </a>
                    </span>
                    
                    <span class="span--tag">
                      <a href="/tags/SSR/" title="SSR">
                        <b>#</b> SSR
                      </a>
                    </span>
                    
                  </span>
              
          </div>
          <div class="post-foot-prev">
            
              <a href="/Typescript-type-and-interface/" target="_self">
                <span>Next</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div class="post-catalog" id="catalog">
    <div class="title">Contents</div>
    <div class="catalog-content">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Set-Up-Your-Development-Environment"><span class="toc-text">Set Up Your Development Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Familiarize-yourself-with-the-command-line"><span class="toc-text">Familiarize yourself with the command line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Node-js-for-your-appropriate-operating-system"><span class="toc-text">Install Node.js for your appropriate operating system</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mac-instructions"><span class="toc-text">Mac instructions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#How-to-install-or-verify-Homebrew-on-your-computer"><span class="toc-text">How to install or verify Homebrew on your computer:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-Xcode-Command-Line-Tools"><span class="toc-text">Install Xcode Command Line Tools:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-Node"><span class="toc-text">Install Node</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-Instructions"><span class="toc-text">Windows Instructions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-Instructions"><span class="toc-text">Linux Instructions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Ubuntu-Debian-and-other-apt-based-distros"><span class="toc-text">Ubuntu, Debian, and other apt based distros:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arch-Manjaro-and-other-pacman-based-distros"><span class="toc-text">Arch, Manjaro and other pacman based distros:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fedora-RedHat-and-other-dnf-based-distros"><span class="toc-text">Fedora, RedHat, and other dnf based distros:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set-default-Node-js-version"><span class="toc-text">Set default Node.js version</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Git"><span class="toc-text">Install Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-the-Gatsby-CLI"><span class="toc-text">Using the Gatsby CLI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-a-Gatsby-site"><span class="toc-text">Create a Gatsby site</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#View-your-site-locally"><span class="toc-text">View your site locally</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-up-a-code-editor"><span class="toc-text">Set up a code editor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Download-VS-Code"><span class="toc-text">Download VS Code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-the-Prettier-plugin"><span class="toc-text">Install the Prettier plugin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9E%A1%EF%B8%8F-What%E2%80%99s-Next"><span class="toc-text">â¡ï¸ Whatâ€™s Next?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-text">References</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Overview-of-core-technologies"><span class="toc-text">Overview of core technologies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-is-a-website"><span class="toc-text">What is a website?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Learn-more-about-the-command-line"><span class="toc-text">Learn more about the command line</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Learn-more-about-npm"><span class="toc-text">Learn more about npm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Learn-more-about-Git"><span class="toc-text">Learn more about Git</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Get-to-Know-Gatsby-Building-Blocks"><span class="toc-text">Get to Know Gatsby Building Blocks</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Gatsby-starters"><span class="toc-text">Using Gatsby starters</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Open-up-the-code"><span class="toc-text">âœ‹ Open up the code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Familiarizing-with-Gatsby-pages"><span class="toc-text">Familiarizing with Gatsby pages</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Make-changes-to-the-%E2%80%9CHello-World%E2%80%9D-homepage"><span class="toc-text">âœ‹ Make changes to the â€œHello Worldâ€ homepage</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Wait%E2%80%A6-HTML-in-our-JavaScript"><span class="toc-text">Waitâ€¦ HTML in our JavaScript?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Building-with-components"><span class="toc-text">Building with components</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-page-components"><span class="toc-text">âœ‹ Using page components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-sub-components"><span class="toc-text">âœ‹ Using sub-components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-are-%E2%80%9Cprops%E2%80%9D"><span class="toc-text">What are â€œpropsâ€?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-layout-components"><span class="toc-text">Using layout components</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linking-between-pages"><span class="toc-text">Linking between pages</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-the-lt-Link-gt-component"><span class="toc-text">âœ‹ Using the &lt;Link &#x2F;&gt; component</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deploying-a-Gatsby-site"><span class="toc-text">Deploying a Gatsby site</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Alternative-Deploying-to-Gatsby-Cloud"><span class="toc-text">Alternative: Deploying to Gatsby Cloud</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9E%A1%EF%B8%8F-What%E2%80%99s-Next-1"><span class="toc-text">â¡ï¸ Whatâ€™s Next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction-to-Styling-in-Gatsby"><span class="toc-text">Introduction to Styling in Gatsby</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-global-styles"><span class="toc-text">Using global styles</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-global-styles-with-standard-CSS-files"><span class="toc-text">Creating global styles with standard CSS files</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%8B-Create-a-new-Gatsby-site"><span class="toc-text">âœ‹ Create a new Gatsby site</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%8B-Add-styles-to-a-CSS-file"><span class="toc-text">âœ‹ Add styles to a CSS file</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%8B-Include-the-stylesheet-in-gatsby-browser-js"><span class="toc-text">âœ‹ Include the stylesheet in gatsby-browser.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-component-scoped-CSS"><span class="toc-text">Using component-scoped CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS-Modules"><span class="toc-text">CSS Modules</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%8B-Build-a-new-page-using-CSS-Modules"><span class="toc-text">âœ‹ Build a new page using CSS Modules</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%8B-Style-a-component-using-CSS-Modules"><span class="toc-text">âœ‹ Style a component using CSS Modules</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS-in-JS"><span class="toc-text">CSS-in-JS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Using-CSS-in-JS-with-Gatsby"><span class="toc-text">Using CSS-in-JS with Gatsby</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Suggested-reading-on-CSS-in-JS"><span class="toc-text">Suggested reading on CSS-in-JS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-CSS-options"><span class="toc-text">Other CSS options</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating-Nested-Layout-Components"><span class="toc-text">Creating Nested Layout Components</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial-1"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-plugins"><span class="toc-text">Using plugins</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Create-a-new-Gatsby-site-1"><span class="toc-text">âœ‹ Create a new Gatsby site</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Install-and-configure-gatsby-plugin-typography"><span class="toc-text">âœ‹ Install and configure gatsby-plugin-typography</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Make-some-content-and-style-changes"><span class="toc-text">âœ‹ Make some content and style changes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-layout-components"><span class="toc-text">Creating layout components</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Create-your-first-layout-component"><span class="toc-text">âœ‹ Create your first layout component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Add-a-site-title"><span class="toc-text">âœ‹ Add a site title</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Add-navigation-links-between-pages"><span class="toc-text">âœ‹ Add navigation links between pages</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next-1"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data-in-Gatsby"><span class="toc-text">Data in Gatsby</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Recap-of-the-first-half-of-the-tutorial"><span class="toc-text">Recap of the first half of the tutorial</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial-2"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Data-in-Gatsby-1"><span class="toc-text">Data in Gatsby</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Unstructured-Data-vs-GraphQL"><span class="toc-text">Using Unstructured Data vs GraphQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Do-I-have-to-use-GraphQL-and-source-plugins-to-pull-data-into-Gatsby-sites"><span class="toc-text">Do I have to use GraphQL and source plugins to pull data into Gatsby sites?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#When-do-I-use-unstructured-data-vs-GraphQL"><span class="toc-text">When do I use unstructured data vs GraphQL?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-Gatsby%E2%80%99s-data-layer-uses-GraphQL-to-pull-data-into-components"><span class="toc-text">How Gatsbyâ€™s data layer uses GraphQL to pull data into components</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-a-new-example-site"><span class="toc-text">Create a new example site</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Your-first-GraphQL-query"><span class="toc-text">Your first GraphQL query</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-a-page-query"><span class="toc-text">Use a page query</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-a-StaticQuery"><span class="toc-text">Use a StaticQuery</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next-2"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Source-Plugins"><span class="toc-text">Source Plugins</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial-3"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Introducing-GraphiQL"><span class="toc-text">Introducing GraphiQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-the-GraphiQL-Explorer"><span class="toc-text">Using the GraphiQL Explorer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-plugins"><span class="toc-text">Source plugins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Build-a-page-with-a-GraphQL-query"><span class="toc-text">Build a page with a GraphQL query</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next-3"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Transformer-plugins"><span class="toc-text">Transformer plugins</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial-4"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Transformer-plugins-1"><span class="toc-text">Transformer plugins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-a-list-of-your-site%E2%80%99s-markdown-files-in-src-pages-index-js"><span class="toc-text">Create a list of your siteâ€™s markdown files in src&#x2F;pages&#x2F;index.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Challenge"><span class="toc-text">Challenge</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next-4"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Programmatically-create-pages-from-data"><span class="toc-text">Programmatically create pages from data</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-in-this-tutorial-5"><span class="toc-text">Whatâ€™s in this tutorial?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-slugs-for-pages"><span class="toc-text">Creating slugs for pages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-pages"><span class="toc-text">Creating pages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Challenge-1"><span class="toc-text">Challenge</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-coming-next-5"><span class="toc-text">Whatâ€™s coming next?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Preparing-a-Site-to-Go-Live"><span class="toc-text">Preparing a Site to Go Live</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Audit-with-Lighthouse"><span class="toc-text">Audit with Lighthouse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Create-a-production-build"><span class="toc-text">âœ‹ Create a production build</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Run-a-Lighthouse-audit"><span class="toc-text">Run a Lighthouse audit</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Add-a-manifest-file"><span class="toc-text">Add a manifest file</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-gatsby-plugin-manifest"><span class="toc-text">âœ‹ Using gatsby-plugin-manifest</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Add-offline-support"><span class="toc-text">Add offline support</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-gatsby-plugin-offline"><span class="toc-text">âœ‹ Using gatsby-plugin-offline</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Add-page-metadata"><span class="toc-text">Add page metadata</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%8B-Using-React-Helmet-and-gatsby-plugin-react-helmet"><span class="toc-text">âœ‹ Using React Helmet and gatsby-plugin-react-helmet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Keep-making-it-better"><span class="toc-text">Keep making it better</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Next-Steps"><span class="toc-text">Next Steps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Official-Documentation"><span class="toc-text">Official Documentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Official-Plugins"><span class="toc-text">Official Plugins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Official-Starters"><span class="toc-text">Official Starters</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#That%E2%80%99s-all-folks"><span class="toc-text">Thatâ€™s all, folks</span></a></li></ol></li></ol>
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        





      </div>
    
  </div>


        <div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/macshion">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="twitter" target="_blank" rel="noopener" href="https://twitter.com/_Macshion">
            <i class="iconfont icon-twitter"></i>
          </a>
        </li>
      
        <li>
          <a title="weibo" target="_blank" rel="noopener" href="https://weibo.com/1909056972">
            <i class="iconfont icon-weibo"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    <div class="footer-more">
      
        <a href="https://macshion.github.io/">Copyright Â© Macshion 2019+</a>
        
    </div>
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



      
  <div class="search-icon" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="Search...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer toï¼š<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




    </div>
  </body>
</html>
